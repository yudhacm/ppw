
<!DOCTYPE html>


<html lang="en" data-content_root="./" >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>Forecasting &#8212; Foto Author</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "";
  </script>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="_static/styles/theme.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
<link href="_static/styles/bootstrap.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
<link href="_static/styles/pydata-sphinx-theme.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />

  
  <link href="_static/vendor/fontawesome/6.5.2/css/all.min.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
  <link rel="preload" as="font" type="font/woff2" crossorigin href="_static/vendor/fontawesome/6.5.2/webfonts/fa-solid-900.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="_static/vendor/fontawesome/6.5.2/webfonts/fa-brands-400.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="_static/vendor/fontawesome/6.5.2/webfonts/fa-regular-400.woff2" />

    <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=03e43079" />
    <link rel="stylesheet" type="text/css" href="_static/styles/sphinx-book-theme.css?v=eba8b062" />
    <link rel="stylesheet" type="text/css" href="_static/togglebutton.css?v=13237357" />
    <link rel="stylesheet" type="text/css" href="_static/copybutton.css?v=76b2166b" />
    <link rel="stylesheet" type="text/css" href="_static/mystnb.8ecb98da25f57f5357bf6f572d296f466b2cfe2517ffebfabe82451661e28f02.css?v=6644e6bb" />
    <link rel="stylesheet" type="text/css" href="_static/sphinx-thebe.css?v=4fa983c6" />
    <link rel="stylesheet" type="text/css" href="_static/sphinx-design.min.css?v=95c83b7e" />
  
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="_static/scripts/bootstrap.js?digest=dfe6caa3a7d634c4db9b" />
<link rel="preload" as="script" href="_static/scripts/pydata-sphinx-theme.js?digest=dfe6caa3a7d634c4db9b" />
  <script src="_static/vendor/fontawesome/6.5.2/js/all.min.js?digest=dfe6caa3a7d634c4db9b"></script>

    <script src="_static/documentation_options.js?v=9eb32ce0"></script>
    <script src="_static/doctools.js?v=9a2dae69"></script>
    <script src="_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="_static/clipboard.min.js?v=a7894cd8"></script>
    <script src="_static/copybutton.js?v=f281be69"></script>
    <script src="_static/scripts/sphinx-book-theme.js?v=887ef09a"></script>
    <script>let toggleHintShow = 'Click to show';</script>
    <script>let toggleHintHide = 'Click to hide';</script>
    <script>let toggleOpenOnPrint = 'true';</script>
    <script src="_static/togglebutton.js?v=4a39c7ea"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script src="_static/design-tabs.js?v=f930bc37"></script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"; const thebe_selector = ".thebe,.cell"; const thebe_selector_input = "pre"; const thebe_selector_output = ".output, .cell_output"</script>
    <script async="async" src="_static/sphinx-thebe.js?v=c100c467"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"; const thebe_selector = ".thebe,.cell"; const thebe_selector_input = "pre"; const thebe_selector_output = ".output, .cell_output"</script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'Forecasting';</script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="prev" title="UTS Pencarian Penambangan Web" href="UTS_PPW.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="en"/>
  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">

  
  
  <div id="pst-skip-link" class="skip-link d-print-none"><a href="#main-content">Skip to main content</a></div>
  
  <div id="pst-scroll-pixel-helper"></div>
  
  <button type="button" class="btn rounded-pill" id="pst-back-to-top">
    <i class="fa-solid fa-arrow-up"></i>Back to top</button>

  
  <input type="checkbox"
          class="sidebar-toggle"
          id="pst-primary-sidebar-checkbox"/>
  <label class="overlay overlay-primary" for="pst-primary-sidebar-checkbox"></label>
  
  <input type="checkbox"
          class="sidebar-toggle"
          id="pst-secondary-sidebar-checkbox"/>
  <label class="overlay overlay-secondary" for="pst-secondary-sidebar-checkbox"></label>
  
  <div class="search-button__wrapper">
    <div class="search-button__overlay"></div>
    <div class="search-button__search-container">
<form class="bd-search d-flex align-items-center"
      action="search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         id="search-input"
         placeholder="Search this book..."
         aria-label="Search this book..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form></div>
  </div>

  <div class="pst-async-banner-revealer d-none">
  <aside id="bd-header-version-warning" class="d-none d-print-none" aria-label="Version warning"></aside>
</div>

  
    <header class="bd-header navbar navbar-expand-lg bd-navbar d-print-none">
    </header>
  

  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      
      
      <div class="bd-sidebar-primary bd-sidebar">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
    
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item">

  
    
  

<a class="navbar-brand logo" href="intro.html">
  
  
  
  
  
    
    
      
    
    
    <img src="_static/foto.jpg" class="logo__image only-light" alt="Foto Author - Home"/>
    <script>document.write(`<img src="_static/foto.jpg" class="logo__image only-dark" alt="Foto Author - Home"/>`);</script>
  
  
</a></div>
        <div class="sidebar-primary-item">

 <script>
 document.write(`
   <button class="btn search-button-field search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass"></i>
    <span class="search-button__default-text">Search</span>
    <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd class="kbd-shortcut__modifier">K</kbd></span>
   </button>
 `);
 </script></div>
        <div class="sidebar-primary-item"><nav class="bd-links bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item navbar-nav active">
        
        <ul class="nav bd-sidenav bd-sidenav__home-link">
            <li class="toctree-l1">
                <a class="reference internal" href="intro.html">
                    Profile
                </a>
            </li>
        </ul>
        <ul class="current nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="web_mining_pengantar.html"><strong>Pengantar Web Mining</strong></a></li>
<li class="toctree-l1"><a class="reference internal" href="Crawling_PPW.html">Crawling</a></li>
<li class="toctree-l1"><a class="reference internal" href="crawling_web.html">Crawling PTA, Berita, dan Link</a></li>
<li class="toctree-l1"><a class="reference internal" href="Crawling_PTA_Manajemen.html"><strong>Crawling PTA Trunojoyo (Manajemen)</strong></a></li>

<li class="toctree-l1"><a class="reference internal" href="prepocessing_web.html"><strong>Prepocessing</strong></a></li>
<li class="toctree-l1"><a class="reference internal" href="TF_IDF%2C_WoE%2C_CBoW.html">TF-IDF, WoE, CBoW</a></li>





<li class="toctree-l1"><a class="reference internal" href="Pra_UTS_PPW.html"><strong>LDA With Gensim</strong></a></li>



<li class="toctree-l1"><a class="reference internal" href="UTS_PPW.html"><strong>UTS Pencarian Penambangan Web</strong></a></li>
<li class="toctree-l1 current active"><a class="current reference internal" href="#"><strong>Forecasting</strong></a></li>
</ul>

    </div>
</nav></div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
  </div>
  
  <div id="rtd-footer-container"></div>


      </div>
      
      <main id="main-content" class="bd-main" role="main">
        
        

<div class="sbt-scroll-pixel-helper"></div>

          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article d-print-none">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item"><button class="sidebar-toggle primary-toggle btn btn-sm" title="Toggle primary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
  <span class="fa-solid fa-bars"></span>
</button></div>
      
    </div>
  
  
    <div class="header-article-items__end">
      
        <div class="header-article-item">

<div class="article-header-buttons">





<div class="dropdown dropdown-source-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Source repositories">
    <i class="fab fa-github"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="https://github.com/executablebooks/jupyter-book" target="_blank"
   class="btn btn-sm btn-source-repository-button dropdown-item"
   title="Source repository"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fab fa-github"></i>
  </span>
<span class="btn__text-container">Repository</span>
</a>
</li>
      
      
      
      
      <li><a href="https://github.com/executablebooks/jupyter-book/issues/new?title=Issue%20on%20page%20%2FForecasting.html&body=Your%20issue%20content%20here." target="_blank"
   class="btn btn-sm btn-source-issues-button dropdown-item"
   title="Open an issue"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-lightbulb"></i>
  </span>
<span class="btn__text-container">Open issue</span>
</a>
</li>
      
  </ul>
</div>






<div class="dropdown dropdown-download-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Download this page">
    <i class="fas fa-download"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="_sources/Forecasting.ipynb" target="_blank"
   class="btn btn-sm btn-download-source-button dropdown-item"
   title="Download source file"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file"></i>
  </span>
<span class="btn__text-container">.ipynb</span>
</a>
</li>
      
      
      
      
      <li>
<button onclick="window.print()"
  class="btn btn-sm btn-download-pdf-button dropdown-item"
  title="Print to PDF"
  data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file-pdf"></i>
  </span>
<span class="btn__text-container">.pdf</span>
</button>
</li>
      
  </ul>
</div>




<button onclick="toggleFullScreen()"
  class="btn btn-sm btn-fullscreen-button"
  title="Fullscreen mode"
  data-bs-placement="bottom" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-expand"></i>
  </span>

</button>



<script>
document.write(`
  <button class="btn btn-sm nav-link pst-navbar-icon theme-switch-button" title="light/dark" aria-label="light/dark" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="theme-switch fa-solid fa-sun fa-lg" data-mode="light"></i>
    <i class="theme-switch fa-solid fa-moon fa-lg" data-mode="dark"></i>
    <i class="theme-switch fa-solid fa-circle-half-stroke fa-lg" data-mode="auto"></i>
  </button>
`);
</script>


<script>
document.write(`
  <button class="btn btn-sm pst-navbar-icon search-button search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass fa-lg"></i>
  </button>
`);
</script>
<button class="sidebar-toggle secondary-toggle btn btn-sm" title="Toggle secondary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="fa-solid fa-list"></span>
</button>
</div></div>
      
    </div>
  
</div>
</div>
              
              

<div id="jb-print-docs-body" class="onlyprint">
    <h1>Forecasting</h1>
    <!-- Table of contents -->
    <div id="print-main-content">
        <div id="jb-print-toc">
            
            <div>
                <h2> Contents </h2>
            </div>
            <nav aria-label="Page">
                <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#mengapa-forecasting-penting"><strong>Mengapa Forecasting penting?</strong></a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#businness-understanding"><strong>Businness Understanding</strong></a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#instalasi-library"><strong>Instalasi Library</strong></a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#data-understanfing"><strong>Data Understanfing</strong></a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#pengumpulan-data"><strong>Pengumpulan Data</strong></a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#koneksi-platform-cdse"><strong>Koneksi Platform CDSE</strong></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#pengambilan-data-dari-koordinat-gresik"><strong>Pengambilan Data dari Koordinat Gresik</strong></a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#eksplorasi-data"><strong>Eksplorasi Data</strong></a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#cek-missing-value"><strong>Cek Missing Value</strong></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#statistik-data"><strong>Statistik Data</strong></a></li>
</ul>
</li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#prepocessing-data"><strong>Prepocessing Data</strong></a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#penanganan-missing-value"><strong>Penanganan Missing Value</strong></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#hasil-grafik">Hasil Grafik</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#pengubahan-data-menjadi-supervised-learning"><strong>Pengubahan Data Menjadi Supervised Learning</strong></a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#modelling"><strong>Modelling</strong></a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#tujuan-modelling-lag-n-day"><strong>Tujuan Modelling Lag n Day</strong></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#modeling-forecasting-dengan-lag-2-hari"><strong>Modeling Forecasting dengan Lag 2 Hari</strong></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#modeling-forecasting-dengan-lag-3-hari"><strong>Modeling Forecasting dengan Lag 3 Hari</strong></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#modeling-forecasting-dengan-lag-4-hari"><strong>Modeling Forecasting dengan Lag 4 Hari</strong></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#modeling-forecasting-dengan-lag-5-hari"><strong>Modeling Forecasting dengan Lag 5 Hari</strong></a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#perbandingan-performa-model-nilai-r2-tiap-lag-hari"><strong>Perbandingan Performa Model (Nilai R² Tiap Lag Hari)</strong></a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id1"><strong>Hasil Grafik</strong></a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#evaluasi"><strong>Evaluasi</strong></a></li>
</ul>
            </nav>
        </div>
    </div>
</div>

              
                
<div id="searchbox"></div>
                <article class="bd-article">
                  
  <section class="tex2jax_ignore mathjax_ignore" id="forecasting">
<h1><strong>Forecasting</strong><a class="headerlink" href="#forecasting" title="Link to this heading">#</a></h1>
<p><strong>Forecasting</strong> adalah metode membuat prediksi informasi dengan menggunakan data historis sebagai input utama untuk menentukan arah tren masa depan.</p>
<section id="mengapa-forecasting-penting">
<h2><strong>Mengapa Forecasting penting?</strong><a class="headerlink" href="#mengapa-forecasting-penting" title="Link to this heading">#</a></h2>
<p>Pada intinya, kita melihat pola-pola yang terjadi di masa lalu (seperti tren musiman, siklus, atau kebiasaan) dan menggunakan pola tersebut untuk membuat perkiraan yang logis tentang apa yang akan terjadi selanjutnya.Tujuan utamanya adalah untuk mengurangi ketidakpastian dalam pengambilan keputusan. Dengan memiliki perkiraan yang berbasis data, sebuah organisasi atau individu dapat membuat perencanaan yang lebih matang, mengantisipasi risiko, dan mengalokasikan sumber daya secara lebih efisien.</p>
</section>
<section id="businness-understanding">
<h2><strong>Businness Understanding</strong><a class="headerlink" href="#businness-understanding" title="Link to this heading">#</a></h2>
<p><strong>1. Latar Belakang</strong></p>
<p>Kualitas udara merupakan salah satu faktor penting yang memengaruhi kesehatan masyarakat, produktivitas, serta keberlanjutan lingkungan. Salah satu indikator utama dalam pengukuran kualitas udara adalah konsentrasi gas Nitrogen Dioksida (NO₂).</p>
<p>Gas NO₂ banyak dihasilkan dari:</p>
<ul class="simple">
<li><p>Aktivitas transportasi (emisi kendaraan bermotor),</p></li>
<li><p>Industri pembakaran bahan bakar fosil,</p></li>
<li><p>Serta proses kimia di atmosfer.</p></li>
</ul>
<p>Tingginya kadar NO₂ dapat menyebabkan berbagai dampak negatif, seperti:</p>
<ul class="simple">
<li><p>Meningkatkan risiko penyakit pernapasan,</p></li>
<li><p>Menurunkan kualitas udara ambien,</p></li>
<li><p>Memengaruhi ekosistem dan produktivitas tanaman.</p></li>
</ul>
<p><strong>2. Tujuan Bisins</strong></p>
<p>Membangun model prediksi (forecasting) konsentrasi NO₂ harian berdasarkan data pengamatan beberapa hari sebelumnya.
Dengan model ini, diharapkan:</p>
<ol class="arabic simple">
<li><p>Pemantauan kualitas udara menjadi lebih proaktif.</p></li>
<li><p>Peringatan dini (early warning system) dapat diberikan ketika polutan diprediksi meningkat.</p></li>
<li><p>Pengambilan keputusan berbasis data (data-driven decision making) untuk kebijakan lingkungan menjadi lebih tepat waktu.</p></li>
<li><p>Perencanaan kebijakan kota seperti pembatasan kendaraan, jadwal industri, atau kegiatan luar ruangan bisa dioptimalkan.</p></li>
</ol>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="err">!</span><span class="n">pip</span> <span class="n">install</span> <span class="n">openeo</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Collecting openeo
  Downloading openeo-0.45.0-py3-none-any.whl.metadata (8.2 kB)
Requirement already satisfied: requests&gt;=2.26.0 in /usr/local/lib/python3.12/dist-packages (from openeo) (2.32.4)
Requirement already satisfied: urllib3&gt;=1.9.0 in /usr/local/lib/python3.12/dist-packages (from openeo) (2.5.0)
Requirement already satisfied: shapely&gt;=1.6.4 in /usr/local/lib/python3.12/dist-packages (from openeo) (2.1.2)
Requirement already satisfied: numpy&gt;=1.17.0 in /usr/local/lib/python3.12/dist-packages (from openeo) (2.0.2)
Collecting xarray&lt;2025.01.2,&gt;=0.12.3 (from openeo)
  Downloading xarray-2025.1.1-py3-none-any.whl.metadata (11 kB)
Requirement already satisfied: pandas&gt;0.20.0 in /usr/local/lib/python3.12/dist-packages (from openeo) (2.2.2)
Collecting pystac&gt;=1.5.0 (from openeo)
  Downloading pystac-1.14.1-py3-none-any.whl.metadata (4.7 kB)
Collecting deprecated&gt;=1.2.12 (from openeo)
  Downloading Deprecated-1.2.18-py2.py3-none-any.whl.metadata (5.7 kB)
Collecting wrapt&lt;2,&gt;=1.10 (from deprecated&gt;=1.2.12-&gt;openeo)
  Downloading wrapt-1.17.3-cp312-cp312-manylinux1_x86_64.manylinux_2_28_x86_64.manylinux_2_5_x86_64.whl.metadata (6.4 kB)
Requirement already satisfied: python-dateutil&gt;=2.8.2 in /usr/local/lib/python3.12/dist-packages (from pandas&gt;0.20.0-&gt;openeo) (2.9.0.post0)
Requirement already satisfied: pytz&gt;=2020.1 in /usr/local/lib/python3.12/dist-packages (from pandas&gt;0.20.0-&gt;openeo) (2025.2)
Requirement already satisfied: tzdata&gt;=2022.7 in /usr/local/lib/python3.12/dist-packages (from pandas&gt;0.20.0-&gt;openeo) (2025.2)
Requirement already satisfied: charset_normalizer&lt;4,&gt;=2 in /usr/local/lib/python3.12/dist-packages (from requests&gt;=2.26.0-&gt;openeo) (3.4.4)
Requirement already satisfied: idna&lt;4,&gt;=2.5 in /usr/local/lib/python3.12/dist-packages (from requests&gt;=2.26.0-&gt;openeo) (3.11)
Requirement already satisfied: certifi&gt;=2017.4.17 in /usr/local/lib/python3.12/dist-packages (from requests&gt;=2.26.0-&gt;openeo) (2025.10.5)
Requirement already satisfied: packaging&gt;=23.2 in /usr/local/lib/python3.12/dist-packages (from xarray&lt;2025.01.2,&gt;=0.12.3-&gt;openeo) (25.0)
Requirement already satisfied: six&gt;=1.5 in /usr/local/lib/python3.12/dist-packages (from python-dateutil&gt;=2.8.2-&gt;pandas&gt;0.20.0-&gt;openeo) (1.17.0)
Downloading openeo-0.45.0-py3-none-any.whl (335 kB)
   ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ <span class=" -Color -Color-Green">335.1/335.1 kB</span> <span class=" -Color -Color-Red">6.7 MB/s</span> eta <span class=" -Color -Color-Cyan">0:00:00</span>
?25hDownloading Deprecated-1.2.18-py2.py3-none-any.whl (10.0 kB)
Downloading pystac-1.14.1-py3-none-any.whl (207 kB)
   ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ <span class=" -Color -Color-Green">207.7/207.7 kB</span> <span class=" -Color -Color-Red">6.8 MB/s</span> eta <span class=" -Color -Color-Cyan">0:00:00</span>
?25hDownloading xarray-2025.1.1-py3-none-any.whl (1.2 MB)
   ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ <span class=" -Color -Color-Green">1.2/1.2 MB</span> <span class=" -Color -Color-Red">38.2 MB/s</span> eta <span class=" -Color -Color-Cyan">0:00:00</span>
?25hDownloading wrapt-1.17.3-cp312-cp312-manylinux1_x86_64.manylinux_2_28_x86_64.manylinux_2_5_x86_64.whl (88 kB)
   ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ <span class=" -Color -Color-Green">88.0/88.0 kB</span> <span class=" -Color -Color-Red">3.8 MB/s</span> eta <span class=" -Color -Color-Cyan">0:00:00</span>
?25hInstalling collected packages: wrapt, pystac, deprecated, xarray, openeo
  Attempting uninstall: wrapt
    Found existing installation: wrapt 2.0.0
    Uninstalling wrapt-2.0.0:
      Successfully uninstalled wrapt-2.0.0
  Attempting uninstall: xarray
    Found existing installation: xarray 2025.10.1
    Uninstalling xarray-2025.10.1:
      Successfully uninstalled xarray-2025.10.1
Successfully installed deprecated-1.2.18 openeo-0.45.0 pystac-1.14.1 wrapt-1.17.3 xarray-2025.1.1
</pre></div>
</div>
</div>
</div>
</section>
<section id="instalasi-library">
<h2><strong>Instalasi Library</strong><a class="headerlink" href="#instalasi-library" title="Link to this heading">#</a></h2>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span><span class="w"> </span><span class="nn">openeo</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">pandas</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">pd</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">matplotlib.pyplot</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">plt</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">os</span>

<span class="kn">import</span><span class="w"> </span><span class="nn">numpy</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">np</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">pandas</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">pd</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">matplotlib.pyplot</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">plt</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">sklearn.preprocessing</span><span class="w"> </span><span class="kn">import</span> <span class="n">StandardScaler</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">sklearn.datasets</span><span class="w"> </span><span class="kn">import</span> <span class="n">make_regression</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">sklearn.model_selection</span><span class="w"> </span><span class="kn">import</span> <span class="n">train_test_split</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">sklearn.neighbors</span><span class="w"> </span><span class="kn">import</span> <span class="n">KNeighborsRegressor</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">sklearn.metrics</span><span class="w"> </span><span class="kn">import</span> <span class="n">r2_score</span><span class="p">,</span> <span class="n">mean_squared_error</span>
</pre></div>
</div>
</div>
</div>
</section>
<section id="data-understanfing">
<h2><strong>Data Understanfing</strong><a class="headerlink" href="#data-understanfing" title="Link to this heading">#</a></h2>
<section id="pengumpulan-data">
<h3><strong>Pengumpulan Data</strong><a class="headerlink" href="#pengumpulan-data" title="Link to this heading">#</a></h3>
<p><strong>Sumber Data</strong></p>
<p>Data yang digunakan dalam penelitian ini diperoleh dari:</p>
<ol class="arabic simple">
<li><p>Platform: Copernicus Data Space Ecosystem (CDSE)</p></li>
<li><p>Koleksi Data: Sentinel-5P Level 2</p></li>
<li><p>Variabel yang diambil: Konsentrasi Nitrogen Dioksida (NO₂)</p></li>
<li><p>Area of Interest (AOI): Wilayah Gresik dan sekitarnya di Jawa Timur, Indonesia</p></li>
<li><p>Periode Pengamatan: 30 hari (20 September 2025 – 20 Oktober 2025)</p></li>
</ol>
<p>Data spasial AOI diperoleh menggunakan <a class="reference external" href="http://geojson.io">geojson.io</a>
, yaitu platform berbasis web yang digunakan untuk menggambar batas wilayah dan mengekspor koordinat dalam format GeoJSON.</p>
<section id="koneksi-platform-cdse">
<h4><strong>Koneksi Platform CDSE</strong><a class="headerlink" href="#koneksi-platform-cdse" title="Link to this heading">#</a></h4>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">connection</span> <span class="o">=</span> <span class="n">openeo</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="s2">&quot;openeo.dataspace.copernicus.eu&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">authenticate_oidc</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html">Visit <a href="https://identity.dataspace.copernicus.eu/auth/realms/CDSE/device?user_code=LTMX-YVHA" title="Authenticate at https://identity.dataspace.copernicus.eu/auth/realms/CDSE/device?user_code=LTMX-YVHA" target="_blank" rel="noopener noreferrer">https://identity.dataspace.copernicus.eu/auth/realms/CDSE/device?user_code=LTMX-YVHA</a> <a href="#" onclick="navigator.clipboard.writeText('https://identity.dataspace.copernicus.eu/auth/realms/CDSE/device?user_code=LTMX-YVHA');return false;" title="Copy authentication URL to clipboard">&#128203;</a> to authenticate.</div><div class="output text_html">✅ Authorized successfully</div><div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Authenticated using device code flow.
</pre></div>
</div>
</div>
</div>
<p>Kode ini berfungsi untuk membuat koneksi antara Python dengan Copernicus Data Space Ecosystem (CDSE) menggunakan OpenEO API dan melakukan autentikasi (login) ke akun kita</p>
</section>
<section id="pengambilan-data-dari-koordinat-gresik">
<h4><strong>Pengambilan Data dari Koordinat Gresik</strong><a class="headerlink" href="#pengambilan-data-dari-koordinat-gresik" title="Link to this heading">#</a></h4>
<p>Data <em>NO2</em> dIambil dari area Gresik dengan rentang 30 hari</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">aoi</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;Polygon&quot;</span><span class="p">,</span>
    <span class="s2">&quot;coordinates&quot;</span><span class="p">:</span> <span class="p">[</span>
        <span class="p">[</span>
            <span class="p">[</span>
              <span class="mf">112.45971691333881</span><span class="p">,</span>
              <span class="o">-</span><span class="mf">7.051386818809732</span>
            <span class="p">],</span>
            <span class="p">[</span>
              <span class="mf">112.45971691333881</span><span class="p">,</span>
              <span class="o">-</span><span class="mf">7.307257822416759</span>
            <span class="p">],</span>
            <span class="p">[</span>
              <span class="mf">112.65723691937552</span><span class="p">,</span>
              <span class="o">-</span><span class="mf">7.307257822416759</span>
            <span class="p">],</span>
            <span class="p">[</span>
              <span class="mf">112.65723691937552</span><span class="p">,</span>
              <span class="o">-</span><span class="mf">7.051386818809732</span>
            <span class="p">],</span>
            <span class="p">[</span>
              <span class="mf">112.45971691333881</span><span class="p">,</span>
              <span class="o">-</span><span class="mf">7.051386818809732</span>
            <span class="p">]</span>
        <span class="p">]</span>
    <span class="p">],</span>
<span class="p">}</span>

<span class="n">s5p</span> <span class="o">=</span> <span class="n">connection</span><span class="o">.</span><span class="n">load_collection</span><span class="p">(</span>
    <span class="s2">&quot;SENTINEL_5P_L2&quot;</span><span class="p">,</span>
    <span class="n">spatial_extent</span><span class="o">=</span><span class="p">{</span>
        <span class="s2">&quot;west&quot;</span><span class="p">:</span> <span class="mf">112.45971691333881</span><span class="p">,</span>
        <span class="s2">&quot;south&quot;</span><span class="p">:</span> <span class="o">-</span><span class="mf">7.307257822416759</span><span class="p">,</span>
        <span class="s2">&quot;east&quot;</span><span class="p">:</span> <span class="mf">112.65723691937552</span><span class="p">,</span>
        <span class="s2">&quot;north&quot;</span><span class="p">:</span> <span class="o">-</span><span class="mf">7.051386818809732</span><span class="p">,</span>
    <span class="p">},</span>
    <span class="n">temporal_extent</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;2025-09-20&quot;</span><span class="p">,</span> <span class="s2">&quot;2025-10-20&quot;</span><span class="p">],</span>
    <span class="n">bands</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;NO2&quot;</span><span class="p">],</span>
<span class="p">)</span>

<span class="k">def</span><span class="w"> </span><span class="nf">mask_invalid</span><span class="p">(</span><span class="n">x</span><span class="p">):</span>
    <span class="k">return</span> <span class="n">x</span> <span class="o">&lt;</span> <span class="mi">0</span>

<span class="n">s5p_masked</span> <span class="o">=</span> <span class="n">s5p</span><span class="o">.</span><span class="n">mask</span><span class="p">(</span><span class="n">s5p</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="n">mask_invalid</span><span class="p">))</span>

<span class="n">daily_mean</span> <span class="o">=</span> <span class="n">s5p_masked</span><span class="o">.</span><span class="n">aggregate_temporal_period</span><span class="p">(</span><span class="n">period</span><span class="o">=</span><span class="s2">&quot;day&quot;</span><span class="p">,</span> <span class="n">reducer</span><span class="o">=</span><span class="s2">&quot;mean&quot;</span><span class="p">)</span>

<span class="n">daily_mean_aoi</span> <span class="o">=</span> <span class="n">daily_mean</span><span class="o">.</span><span class="n">aggregate_spatial</span><span class="p">(</span><span class="n">geometries</span><span class="o">=</span><span class="n">aoi</span><span class="p">,</span> <span class="n">reducer</span><span class="o">=</span><span class="s2">&quot;mean&quot;</span><span class="p">)</span>

<span class="n">job</span> <span class="o">=</span> <span class="n">daily_mean_aoi</span><span class="o">.</span><span class="n">execute_batch</span><span class="p">(</span><span class="n">out_format</span><span class="o">=</span><span class="s2">&quot;CSV&quot;</span><span class="p">)</span>

<span class="n">results</span> <span class="o">=</span> <span class="n">job</span><span class="o">.</span><span class="n">get_results</span><span class="p">()</span>
<span class="n">results</span><span class="o">.</span><span class="n">download_files</span><span class="p">(</span><span class="s2">&quot;data-copernicus&quot;</span><span class="p">)</span>

<span class="k">for</span> <span class="n">f</span> <span class="ow">in</span> <span class="n">os</span><span class="o">.</span><span class="n">listdir</span><span class="p">(</span><span class="s2">&quot;data-copernicus&quot;</span><span class="p">):</span>
    <span class="k">if</span> <span class="n">f</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="s2">&quot;.csv&quot;</span><span class="p">):</span>
        <span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="s2">&quot;data-copernicus&quot;</span><span class="p">,</span> <span class="n">f</span><span class="p">))</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;File ditemukan:&quot;</span><span class="p">,</span> <span class="n">f</span><span class="p">)</span>
        <span class="k">break</span>

<span class="n">df</span><span class="p">[</span><span class="s2">&quot;date&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">to_datetime</span><span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="s2">&quot;date&quot;</span><span class="p">])</span>

<span class="n">df</span><span class="p">[</span><span class="s2">&quot;month&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="s2">&quot;date&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">dt</span><span class="o">.</span><span class="n">to_period</span><span class="p">(</span><span class="s2">&quot;M&quot;</span><span class="p">)</span>

<span class="n">df_monthly</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="s2">&quot;month&quot;</span><span class="p">,</span> <span class="n">as_index</span><span class="o">=</span><span class="kc">False</span><span class="p">)[</span><span class="s2">&quot;NO2&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">mean</span><span class="p">()</span>
<span class="n">df</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>0:00:00 Job &#39;j-2510250353164ce9b28ae6a4b6a2e1a2&#39;: send &#39;start&#39;
0:00:13 Job &#39;j-2510250353164ce9b28ae6a4b6a2e1a2&#39;: created (progress 0%)
0:00:19 Job &#39;j-2510250353164ce9b28ae6a4b6a2e1a2&#39;: created (progress 0%)
0:00:25 Job &#39;j-2510250353164ce9b28ae6a4b6a2e1a2&#39;: created (progress 0%)
0:00:33 Job &#39;j-2510250353164ce9b28ae6a4b6a2e1a2&#39;: created (progress 0%)
0:00:43 Job &#39;j-2510250353164ce9b28ae6a4b6a2e1a2&#39;: created (progress 0%)
0:00:56 Job &#39;j-2510250353164ce9b28ae6a4b6a2e1a2&#39;: running (progress N/A)
0:01:11 Job &#39;j-2510250353164ce9b28ae6a4b6a2e1a2&#39;: running (progress N/A)
0:01:30 Job &#39;j-2510250353164ce9b28ae6a4b6a2e1a2&#39;: running (progress N/A)
0:01:55 Job &#39;j-2510250353164ce9b28ae6a4b6a2e1a2&#39;: running (progress N/A)
0:02:25 Job &#39;j-2510250353164ce9b28ae6a4b6a2e1a2&#39;: finished (progress 100%)
File ditemukan: timeseries.csv
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>/tmp/ipython-input-3702221239.py:63: UserWarning: Converting to PeriodArray/Index representation will drop timezone information.
  df[&quot;month&quot;] = df[&quot;date&quot;].dt.to_period(&quot;M&quot;)
</pre></div>
</div>
<div class="output text_html">
  <div id="df-9d737b10-1c16-4039-9a11-fa273414f754" class="colab-df-container">
    <div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>date</th>
      <th>feature_index</th>
      <th>NO2</th>
      <th>month</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>2025-09-25 00:00:00+00:00</td>
      <td>0</td>
      <td>0.000087</td>
      <td>2025-09</td>
    </tr>
    <tr>
      <th>1</th>
      <td>2025-09-27 00:00:00+00:00</td>
      <td>0</td>
      <td>0.000039</td>
      <td>2025-09</td>
    </tr>
    <tr>
      <th>2</th>
      <td>2025-09-23 00:00:00+00:00</td>
      <td>0</td>
      <td>0.000158</td>
      <td>2025-09</td>
    </tr>
    <tr>
      <th>3</th>
      <td>2025-09-24 00:00:00+00:00</td>
      <td>0</td>
      <td>0.000261</td>
      <td>2025-09</td>
    </tr>
    <tr>
      <th>4</th>
      <td>2025-09-21 00:00:00+00:00</td>
      <td>0</td>
      <td>0.000063</td>
      <td>2025-09</td>
    </tr>
    <tr>
      <th>5</th>
      <td>2025-09-22 00:00:00+00:00</td>
      <td>0</td>
      <td>0.000066</td>
      <td>2025-09</td>
    </tr>
    <tr>
      <th>6</th>
      <td>2025-09-28 00:00:00+00:00</td>
      <td>0</td>
      <td>0.000032</td>
      <td>2025-09</td>
    </tr>
    <tr>
      <th>7</th>
      <td>2025-09-26 00:00:00+00:00</td>
      <td>0</td>
      <td>0.000056</td>
      <td>2025-09</td>
    </tr>
    <tr>
      <th>8</th>
      <td>2025-09-20 00:00:00+00:00</td>
      <td>0</td>
      <td>0.000104</td>
      <td>2025-09</td>
    </tr>
    <tr>
      <th>9</th>
      <td>2025-09-19 00:00:00+00:00</td>
      <td>0</td>
      <td>NaN</td>
      <td>2025-09</td>
    </tr>
    <tr>
      <th>10</th>
      <td>2025-10-18 00:00:00+00:00</td>
      <td>0</td>
      <td>0.000048</td>
      <td>2025-10</td>
    </tr>
    <tr>
      <th>11</th>
      <td>2025-10-19 00:00:00+00:00</td>
      <td>0</td>
      <td>0.000044</td>
      <td>2025-10</td>
    </tr>
    <tr>
      <th>12</th>
      <td>2025-10-16 00:00:00+00:00</td>
      <td>0</td>
      <td>0.000068</td>
      <td>2025-10</td>
    </tr>
    <tr>
      <th>13</th>
      <td>2025-10-15 00:00:00+00:00</td>
      <td>0</td>
      <td>0.000061</td>
      <td>2025-10</td>
    </tr>
    <tr>
      <th>14</th>
      <td>2025-10-17 00:00:00+00:00</td>
      <td>0</td>
      <td>0.000053</td>
      <td>2025-10</td>
    </tr>
    <tr>
      <th>15</th>
      <td>2025-09-30 00:00:00+00:00</td>
      <td>0</td>
      <td>NaN</td>
      <td>2025-09</td>
    </tr>
    <tr>
      <th>16</th>
      <td>2025-10-01 00:00:00+00:00</td>
      <td>0</td>
      <td>NaN</td>
      <td>2025-10</td>
    </tr>
    <tr>
      <th>17</th>
      <td>2025-10-02 00:00:00+00:00</td>
      <td>0</td>
      <td>0.000104</td>
      <td>2025-10</td>
    </tr>
    <tr>
      <th>18</th>
      <td>2025-10-06 00:00:00+00:00</td>
      <td>0</td>
      <td>0.000071</td>
      <td>2025-10</td>
    </tr>
    <tr>
      <th>19</th>
      <td>2025-10-04 00:00:00+00:00</td>
      <td>0</td>
      <td>0.000077</td>
      <td>2025-10</td>
    </tr>
    <tr>
      <th>20</th>
      <td>2025-10-03 00:00:00+00:00</td>
      <td>0</td>
      <td>0.000060</td>
      <td>2025-10</td>
    </tr>
    <tr>
      <th>21</th>
      <td>2025-10-05 00:00:00+00:00</td>
      <td>0</td>
      <td>0.000051</td>
      <td>2025-10</td>
    </tr>
    <tr>
      <th>22</th>
      <td>2025-09-29 00:00:00+00:00</td>
      <td>0</td>
      <td>0.000051</td>
      <td>2025-09</td>
    </tr>
    <tr>
      <th>23</th>
      <td>2025-10-11 00:00:00+00:00</td>
      <td>0</td>
      <td>0.000065</td>
      <td>2025-10</td>
    </tr>
    <tr>
      <th>24</th>
      <td>2025-10-12 00:00:00+00:00</td>
      <td>0</td>
      <td>0.000023</td>
      <td>2025-10</td>
    </tr>
    <tr>
      <th>25</th>
      <td>2025-10-09 00:00:00+00:00</td>
      <td>0</td>
      <td>0.000140</td>
      <td>2025-10</td>
    </tr>
    <tr>
      <th>26</th>
      <td>2025-10-14 00:00:00+00:00</td>
      <td>0</td>
      <td>0.000059</td>
      <td>2025-10</td>
    </tr>
    <tr>
      <th>27</th>
      <td>2025-10-13 00:00:00+00:00</td>
      <td>0</td>
      <td>0.000019</td>
      <td>2025-10</td>
    </tr>
    <tr>
      <th>28</th>
      <td>2025-10-10 00:00:00+00:00</td>
      <td>0</td>
      <td>0.000133</td>
      <td>2025-10</td>
    </tr>
    <tr>
      <th>29</th>
      <td>2025-10-07 00:00:00+00:00</td>
      <td>0</td>
      <td>0.000110</td>
      <td>2025-10</td>
    </tr>
    <tr>
      <th>30</th>
      <td>2025-10-08 00:00:00+00:00</td>
      <td>0</td>
      <td>0.000087</td>
      <td>2025-10</td>
    </tr>
  </tbody>
</table>
</div>
    <div class="colab-df-buttons">

  <div class="colab-df-container">
    <button class="colab-df-convert" onclick="convertToInteractive('df-9d737b10-1c16-4039-9a11-fa273414f754')"
            title="Convert this dataframe to an interactive table."
            style="display:none;">

  <svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960">
    <path d="M120-120v-720h720v720H120Zm60-500h600v-160H180v160Zm220 220h160v-160H400v160Zm0 220h160v-160H400v160ZM180-400h160v-160H180v160Zm440 0h160v-160H620v160ZM180-180h160v-160H180v160Zm440 0h160v-160H620v160Z"/>
  </svg>
    </button>

  <style>
    .colab-df-container {
      display:flex;
      gap: 12px;
    }

    .colab-df-convert {
      background-color: #E8F0FE;
      border: none;
      border-radius: 50%;
      cursor: pointer;
      display: none;
      fill: #1967D2;
      height: 32px;
      padding: 0 0 0 0;
      width: 32px;
    }

    .colab-df-convert:hover {
      background-color: #E2EBFA;
      box-shadow: 0px 1px 2px rgba(60, 64, 67, 0.3), 0px 1px 3px 1px rgba(60, 64, 67, 0.15);
      fill: #174EA6;
    }

    .colab-df-buttons div {
      margin-bottom: 4px;
    }

    [theme=dark] .colab-df-convert {
      background-color: #3B4455;
      fill: #D2E3FC;
    }

    [theme=dark] .colab-df-convert:hover {
      background-color: #434B5C;
      box-shadow: 0px 1px 3px 1px rgba(0, 0, 0, 0.15);
      filter: drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.3));
      fill: #FFFFFF;
    }
  </style>

    <script>
      const buttonEl =
        document.querySelector('#df-9d737b10-1c16-4039-9a11-fa273414f754 button.colab-df-convert');
      buttonEl.style.display =
        google.colab.kernel.accessAllowed ? 'block' : 'none';

      async function convertToInteractive(key) {
        const element = document.querySelector('#df-9d737b10-1c16-4039-9a11-fa273414f754');
        const dataTable =
          await google.colab.kernel.invokeFunction('convertToInteractive',
                                                    [key], {});
        if (!dataTable) return;

        const docLinkHtml = 'Like what you see? Visit the ' +
          '<a target="_blank" href=https://colab.research.google.com/notebooks/data_table.ipynb>data table notebook</a>'
          + ' to learn more about interactive tables.';
        element.innerHTML = '';
        dataTable['output_type'] = 'display_data';
        await google.colab.output.renderOutput(dataTable, element);
        const docLink = document.createElement('div');
        docLink.innerHTML = docLinkHtml;
        element.appendChild(docLink);
      }
    </script>
  </div>


    <div id="df-85740bfd-c3fb-4e9b-97dd-f3cf35446a0b">
      <button class="colab-df-quickchart" onclick="quickchart('df-85740bfd-c3fb-4e9b-97dd-f3cf35446a0b')"
                title="Suggest charts"
                style="display:none;">

<svg xmlns="http://www.w3.org/2000/svg" height="24px"viewBox="0 0 24 24"
     width="24px">
    <g>
        <path d="M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zM9 17H7v-7h2v7zm4 0h-2V7h2v10zm4 0h-2v-4h2v4z"/>
    </g>
</svg>
      </button>

<style>
  .colab-df-quickchart {
      --bg-color: #E8F0FE;
      --fill-color: #1967D2;
      --hover-bg-color: #E2EBFA;
      --hover-fill-color: #174EA6;
      --disabled-fill-color: #AAA;
      --disabled-bg-color: #DDD;
  }

  [theme=dark] .colab-df-quickchart {
      --bg-color: #3B4455;
      --fill-color: #D2E3FC;
      --hover-bg-color: #434B5C;
      --hover-fill-color: #FFFFFF;
      --disabled-bg-color: #3B4455;
      --disabled-fill-color: #666;
  }

  .colab-df-quickchart {
    background-color: var(--bg-color);
    border: none;
    border-radius: 50%;
    cursor: pointer;
    display: none;
    fill: var(--fill-color);
    height: 32px;
    padding: 0;
    width: 32px;
  }

  .colab-df-quickchart:hover {
    background-color: var(--hover-bg-color);
    box-shadow: 0 1px 2px rgba(60, 64, 67, 0.3), 0 1px 3px 1px rgba(60, 64, 67, 0.15);
    fill: var(--button-hover-fill-color);
  }

  .colab-df-quickchart-complete:disabled,
  .colab-df-quickchart-complete:disabled:hover {
    background-color: var(--disabled-bg-color);
    fill: var(--disabled-fill-color);
    box-shadow: none;
  }

  .colab-df-spinner {
    border: 2px solid var(--fill-color);
    border-color: transparent;
    border-bottom-color: var(--fill-color);
    animation:
      spin 1s steps(1) infinite;
  }

  @keyframes spin {
    0% {
      border-color: transparent;
      border-bottom-color: var(--fill-color);
      border-left-color: var(--fill-color);
    }
    20% {
      border-color: transparent;
      border-left-color: var(--fill-color);
      border-top-color: var(--fill-color);
    }
    30% {
      border-color: transparent;
      border-left-color: var(--fill-color);
      border-top-color: var(--fill-color);
      border-right-color: var(--fill-color);
    }
    40% {
      border-color: transparent;
      border-right-color: var(--fill-color);
      border-top-color: var(--fill-color);
    }
    60% {
      border-color: transparent;
      border-right-color: var(--fill-color);
    }
    80% {
      border-color: transparent;
      border-right-color: var(--fill-color);
      border-bottom-color: var(--fill-color);
    }
    90% {
      border-color: transparent;
      border-bottom-color: var(--fill-color);
    }
  }
</style>

      <script>
        async function quickchart(key) {
          const quickchartButtonEl =
            document.querySelector('#' + key + ' button');
          quickchartButtonEl.disabled = true;  // To prevent multiple clicks.
          quickchartButtonEl.classList.add('colab-df-spinner');
          try {
            const charts = await google.colab.kernel.invokeFunction(
                'suggestCharts', [key], {});
          } catch (error) {
            console.error('Error during call to suggestCharts:', error);
          }
          quickchartButtonEl.classList.remove('colab-df-spinner');
          quickchartButtonEl.classList.add('colab-df-quickchart-complete');
        }
        (() => {
          let quickchartButtonEl =
            document.querySelector('#df-85740bfd-c3fb-4e9b-97dd-f3cf35446a0b button');
          quickchartButtonEl.style.display =
            google.colab.kernel.accessAllowed ? 'block' : 'none';
        })();
      </script>
    </div>

  <div id="id_ce1fc2ca-eeaa-4a7f-96c0-d52ac022c183">
    <style>
      .colab-df-generate {
        background-color: #E8F0FE;
        border: none;
        border-radius: 50%;
        cursor: pointer;
        display: none;
        fill: #1967D2;
        height: 32px;
        padding: 0 0 0 0;
        width: 32px;
      }

      .colab-df-generate:hover {
        background-color: #E2EBFA;
        box-shadow: 0px 1px 2px rgba(60, 64, 67, 0.3), 0px 1px 3px 1px rgba(60, 64, 67, 0.15);
        fill: #174EA6;
      }

      [theme=dark] .colab-df-generate {
        background-color: #3B4455;
        fill: #D2E3FC;
      }

      [theme=dark] .colab-df-generate:hover {
        background-color: #434B5C;
        box-shadow: 0px 1px 3px 1px rgba(0, 0, 0, 0.15);
        filter: drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.3));
        fill: #FFFFFF;
      }
    </style>
    <button class="colab-df-generate" onclick="generateWithVariable('df')"
            title="Generate code using this dataframe."
            style="display:none;">

  <svg xmlns="http://www.w3.org/2000/svg" height="24px"viewBox="0 0 24 24"
       width="24px">
    <path d="M7,19H8.4L18.45,9,17,7.55,7,17.6ZM5,21V16.75L18.45,3.32a2,2,0,0,1,2.83,0l1.4,1.43a1.91,1.91,0,0,1,.58,1.4,1.91,1.91,0,0,1-.58,1.4L9.25,21ZM18.45,9,17,7.55Zm-12,3A5.31,5.31,0,0,0,4.9,8.1,5.31,5.31,0,0,0,1,6.5,5.31,5.31,0,0,0,4.9,4.9,5.31,5.31,0,0,0,6.5,1,5.31,5.31,0,0,0,8.1,4.9,5.31,5.31,0,0,0,12,6.5,5.46,5.46,0,0,0,6.5,12Z"/>
  </svg>
    </button>
    <script>
      (() => {
      const buttonEl =
        document.querySelector('#id_ce1fc2ca-eeaa-4a7f-96c0-d52ac022c183 button.colab-df-generate');
      buttonEl.style.display =
        google.colab.kernel.accessAllowed ? 'block' : 'none';

      buttonEl.onclick = () => {
        google.colab.notebook.generateWithVariable('df');
      }
      })();
    </script>
  </div>

    </div>
  </div>
</div></div>
</div>
<p>Pertama, mendefinisikan wilayah pengamatan (AOI) berupa area Gresik dan sekitarnya dalam format koordinat GeoJSON. Setelah itu, sistem memanggil koleksi data SENTINEL_5P_L2 untuk rentang waktu 20 September hingga 20 Oktober 2025 dan memilih band NO₂. Nilai yang tidak valid (negatif) dihapus, kemudian data diolah menjadi rata-rata harian dan rata-rata spasial di dalam area tersebut.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">new_df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s1">&#39;data-copernicus/timeseries.csv&#39;</span><span class="p">)</span>
<span class="n">new_df</span> <span class="o">=</span> <span class="n">new_df</span><span class="o">.</span><span class="n">sort_values</span><span class="p">(</span><span class="n">by</span><span class="o">=</span><span class="s1">&#39;date&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">reset_index</span><span class="p">(</span><span class="n">drop</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="n">new_df</span><span class="p">[</span><span class="s1">&#39;date&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">to_datetime</span><span class="p">(</span><span class="n">new_df</span><span class="p">[</span><span class="s1">&#39;date&#39;</span><span class="p">])</span><span class="o">.</span><span class="n">dt</span><span class="o">.</span><span class="n">date</span>
<span class="n">new_df</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html">
  <div id="df-3862c0db-ceaf-4a24-ab02-e3bc8a104b5c" class="colab-df-container">
    <div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>date</th>
      <th>feature_index</th>
      <th>NO2</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>2025-09-19</td>
      <td>0</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>1</th>
      <td>2025-09-20</td>
      <td>0</td>
      <td>0.000104</td>
    </tr>
    <tr>
      <th>2</th>
      <td>2025-09-21</td>
      <td>0</td>
      <td>0.000063</td>
    </tr>
    <tr>
      <th>3</th>
      <td>2025-09-22</td>
      <td>0</td>
      <td>0.000066</td>
    </tr>
    <tr>
      <th>4</th>
      <td>2025-09-23</td>
      <td>0</td>
      <td>0.000158</td>
    </tr>
    <tr>
      <th>5</th>
      <td>2025-09-24</td>
      <td>0</td>
      <td>0.000261</td>
    </tr>
    <tr>
      <th>6</th>
      <td>2025-09-25</td>
      <td>0</td>
      <td>0.000087</td>
    </tr>
    <tr>
      <th>7</th>
      <td>2025-09-26</td>
      <td>0</td>
      <td>0.000056</td>
    </tr>
    <tr>
      <th>8</th>
      <td>2025-09-27</td>
      <td>0</td>
      <td>0.000039</td>
    </tr>
    <tr>
      <th>9</th>
      <td>2025-09-28</td>
      <td>0</td>
      <td>0.000032</td>
    </tr>
    <tr>
      <th>10</th>
      <td>2025-09-29</td>
      <td>0</td>
      <td>0.000051</td>
    </tr>
    <tr>
      <th>11</th>
      <td>2025-09-30</td>
      <td>0</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>12</th>
      <td>2025-10-01</td>
      <td>0</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>13</th>
      <td>2025-10-02</td>
      <td>0</td>
      <td>0.000104</td>
    </tr>
    <tr>
      <th>14</th>
      <td>2025-10-03</td>
      <td>0</td>
      <td>0.000060</td>
    </tr>
    <tr>
      <th>15</th>
      <td>2025-10-04</td>
      <td>0</td>
      <td>0.000077</td>
    </tr>
    <tr>
      <th>16</th>
      <td>2025-10-05</td>
      <td>0</td>
      <td>0.000051</td>
    </tr>
    <tr>
      <th>17</th>
      <td>2025-10-06</td>
      <td>0</td>
      <td>0.000071</td>
    </tr>
    <tr>
      <th>18</th>
      <td>2025-10-07</td>
      <td>0</td>
      <td>0.000110</td>
    </tr>
    <tr>
      <th>19</th>
      <td>2025-10-08</td>
      <td>0</td>
      <td>0.000087</td>
    </tr>
    <tr>
      <th>20</th>
      <td>2025-10-09</td>
      <td>0</td>
      <td>0.000140</td>
    </tr>
    <tr>
      <th>21</th>
      <td>2025-10-10</td>
      <td>0</td>
      <td>0.000133</td>
    </tr>
    <tr>
      <th>22</th>
      <td>2025-10-11</td>
      <td>0</td>
      <td>0.000065</td>
    </tr>
    <tr>
      <th>23</th>
      <td>2025-10-12</td>
      <td>0</td>
      <td>0.000023</td>
    </tr>
    <tr>
      <th>24</th>
      <td>2025-10-13</td>
      <td>0</td>
      <td>0.000019</td>
    </tr>
    <tr>
      <th>25</th>
      <td>2025-10-14</td>
      <td>0</td>
      <td>0.000059</td>
    </tr>
    <tr>
      <th>26</th>
      <td>2025-10-15</td>
      <td>0</td>
      <td>0.000061</td>
    </tr>
    <tr>
      <th>27</th>
      <td>2025-10-16</td>
      <td>0</td>
      <td>0.000068</td>
    </tr>
    <tr>
      <th>28</th>
      <td>2025-10-17</td>
      <td>0</td>
      <td>0.000053</td>
    </tr>
    <tr>
      <th>29</th>
      <td>2025-10-18</td>
      <td>0</td>
      <td>0.000048</td>
    </tr>
    <tr>
      <th>30</th>
      <td>2025-10-19</td>
      <td>0</td>
      <td>0.000044</td>
    </tr>
  </tbody>
</table>
</div>
    <div class="colab-df-buttons">

  <div class="colab-df-container">
    <button class="colab-df-convert" onclick="convertToInteractive('df-3862c0db-ceaf-4a24-ab02-e3bc8a104b5c')"
            title="Convert this dataframe to an interactive table."
            style="display:none;">

  <svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960">
    <path d="M120-120v-720h720v720H120Zm60-500h600v-160H180v160Zm220 220h160v-160H400v160Zm0 220h160v-160H400v160ZM180-400h160v-160H180v160Zm440 0h160v-160H620v160ZM180-180h160v-160H180v160Zm440 0h160v-160H620v160Z"/>
  </svg>
    </button>

  <style>
    .colab-df-container {
      display:flex;
      gap: 12px;
    }

    .colab-df-convert {
      background-color: #E8F0FE;
      border: none;
      border-radius: 50%;
      cursor: pointer;
      display: none;
      fill: #1967D2;
      height: 32px;
      padding: 0 0 0 0;
      width: 32px;
    }

    .colab-df-convert:hover {
      background-color: #E2EBFA;
      box-shadow: 0px 1px 2px rgba(60, 64, 67, 0.3), 0px 1px 3px 1px rgba(60, 64, 67, 0.15);
      fill: #174EA6;
    }

    .colab-df-buttons div {
      margin-bottom: 4px;
    }

    [theme=dark] .colab-df-convert {
      background-color: #3B4455;
      fill: #D2E3FC;
    }

    [theme=dark] .colab-df-convert:hover {
      background-color: #434B5C;
      box-shadow: 0px 1px 3px 1px rgba(0, 0, 0, 0.15);
      filter: drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.3));
      fill: #FFFFFF;
    }
  </style>

    <script>
      const buttonEl =
        document.querySelector('#df-3862c0db-ceaf-4a24-ab02-e3bc8a104b5c button.colab-df-convert');
      buttonEl.style.display =
        google.colab.kernel.accessAllowed ? 'block' : 'none';

      async function convertToInteractive(key) {
        const element = document.querySelector('#df-3862c0db-ceaf-4a24-ab02-e3bc8a104b5c');
        const dataTable =
          await google.colab.kernel.invokeFunction('convertToInteractive',
                                                    [key], {});
        if (!dataTable) return;

        const docLinkHtml = 'Like what you see? Visit the ' +
          '<a target="_blank" href=https://colab.research.google.com/notebooks/data_table.ipynb>data table notebook</a>'
          + ' to learn more about interactive tables.';
        element.innerHTML = '';
        dataTable['output_type'] = 'display_data';
        await google.colab.output.renderOutput(dataTable, element);
        const docLink = document.createElement('div');
        docLink.innerHTML = docLinkHtml;
        element.appendChild(docLink);
      }
    </script>
  </div>


    <div id="df-4c361abe-078d-4b0d-b510-b5bce29c0ef1">
      <button class="colab-df-quickchart" onclick="quickchart('df-4c361abe-078d-4b0d-b510-b5bce29c0ef1')"
                title="Suggest charts"
                style="display:none;">

<svg xmlns="http://www.w3.org/2000/svg" height="24px"viewBox="0 0 24 24"
     width="24px">
    <g>
        <path d="M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zM9 17H7v-7h2v7zm4 0h-2V7h2v10zm4 0h-2v-4h2v4z"/>
    </g>
</svg>
      </button>

<style>
  .colab-df-quickchart {
      --bg-color: #E8F0FE;
      --fill-color: #1967D2;
      --hover-bg-color: #E2EBFA;
      --hover-fill-color: #174EA6;
      --disabled-fill-color: #AAA;
      --disabled-bg-color: #DDD;
  }

  [theme=dark] .colab-df-quickchart {
      --bg-color: #3B4455;
      --fill-color: #D2E3FC;
      --hover-bg-color: #434B5C;
      --hover-fill-color: #FFFFFF;
      --disabled-bg-color: #3B4455;
      --disabled-fill-color: #666;
  }

  .colab-df-quickchart {
    background-color: var(--bg-color);
    border: none;
    border-radius: 50%;
    cursor: pointer;
    display: none;
    fill: var(--fill-color);
    height: 32px;
    padding: 0;
    width: 32px;
  }

  .colab-df-quickchart:hover {
    background-color: var(--hover-bg-color);
    box-shadow: 0 1px 2px rgba(60, 64, 67, 0.3), 0 1px 3px 1px rgba(60, 64, 67, 0.15);
    fill: var(--button-hover-fill-color);
  }

  .colab-df-quickchart-complete:disabled,
  .colab-df-quickchart-complete:disabled:hover {
    background-color: var(--disabled-bg-color);
    fill: var(--disabled-fill-color);
    box-shadow: none;
  }

  .colab-df-spinner {
    border: 2px solid var(--fill-color);
    border-color: transparent;
    border-bottom-color: var(--fill-color);
    animation:
      spin 1s steps(1) infinite;
  }

  @keyframes spin {
    0% {
      border-color: transparent;
      border-bottom-color: var(--fill-color);
      border-left-color: var(--fill-color);
    }
    20% {
      border-color: transparent;
      border-left-color: var(--fill-color);
      border-top-color: var(--fill-color);
    }
    30% {
      border-color: transparent;
      border-left-color: var(--fill-color);
      border-top-color: var(--fill-color);
      border-right-color: var(--fill-color);
    }
    40% {
      border-color: transparent;
      border-right-color: var(--fill-color);
      border-top-color: var(--fill-color);
    }
    60% {
      border-color: transparent;
      border-right-color: var(--fill-color);
    }
    80% {
      border-color: transparent;
      border-right-color: var(--fill-color);
      border-bottom-color: var(--fill-color);
    }
    90% {
      border-color: transparent;
      border-bottom-color: var(--fill-color);
    }
  }
</style>

      <script>
        async function quickchart(key) {
          const quickchartButtonEl =
            document.querySelector('#' + key + ' button');
          quickchartButtonEl.disabled = true;  // To prevent multiple clicks.
          quickchartButtonEl.classList.add('colab-df-spinner');
          try {
            const charts = await google.colab.kernel.invokeFunction(
                'suggestCharts', [key], {});
          } catch (error) {
            console.error('Error during call to suggestCharts:', error);
          }
          quickchartButtonEl.classList.remove('colab-df-spinner');
          quickchartButtonEl.classList.add('colab-df-quickchart-complete');
        }
        (() => {
          let quickchartButtonEl =
            document.querySelector('#df-4c361abe-078d-4b0d-b510-b5bce29c0ef1 button');
          quickchartButtonEl.style.display =
            google.colab.kernel.accessAllowed ? 'block' : 'none';
        })();
      </script>
    </div>

  <div id="id_1c61e3d7-64e3-49f7-b0e0-ba3b39458278">
    <style>
      .colab-df-generate {
        background-color: #E8F0FE;
        border: none;
        border-radius: 50%;
        cursor: pointer;
        display: none;
        fill: #1967D2;
        height: 32px;
        padding: 0 0 0 0;
        width: 32px;
      }

      .colab-df-generate:hover {
        background-color: #E2EBFA;
        box-shadow: 0px 1px 2px rgba(60, 64, 67, 0.3), 0px 1px 3px 1px rgba(60, 64, 67, 0.15);
        fill: #174EA6;
      }

      [theme=dark] .colab-df-generate {
        background-color: #3B4455;
        fill: #D2E3FC;
      }

      [theme=dark] .colab-df-generate:hover {
        background-color: #434B5C;
        box-shadow: 0px 1px 3px 1px rgba(0, 0, 0, 0.15);
        filter: drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.3));
        fill: #FFFFFF;
      }
    </style>
    <button class="colab-df-generate" onclick="generateWithVariable('new_df')"
            title="Generate code using this dataframe."
            style="display:none;">

  <svg xmlns="http://www.w3.org/2000/svg" height="24px"viewBox="0 0 24 24"
       width="24px">
    <path d="M7,19H8.4L18.45,9,17,7.55,7,17.6ZM5,21V16.75L18.45,3.32a2,2,0,0,1,2.83,0l1.4,1.43a1.91,1.91,0,0,1,.58,1.4,1.91,1.91,0,0,1-.58,1.4L9.25,21ZM18.45,9,17,7.55Zm-12,3A5.31,5.31,0,0,0,4.9,8.1,5.31,5.31,0,0,0,1,6.5,5.31,5.31,0,0,0,4.9,4.9,5.31,5.31,0,0,0,6.5,1,5.31,5.31,0,0,0,8.1,4.9,5.31,5.31,0,0,0,12,6.5,5.46,5.46,0,0,0,6.5,12Z"/>
  </svg>
    </button>
    <script>
      (() => {
      const buttonEl =
        document.querySelector('#id_1c61e3d7-64e3-49f7-b0e0-ba3b39458278 button.colab-df-generate');
      buttonEl.style.display =
        google.colab.kernel.accessAllowed ? 'block' : 'none';

      buttonEl.onclick = () => {
        google.colab.notebook.generateWithVariable('new_df');
      }
      })();
    </script>
  </div>

    </div>
  </div>
</div></div>
</div>
</section>
</section>
<section id="eksplorasi-data">
<h3><strong>Eksplorasi Data</strong><a class="headerlink" href="#eksplorasi-data" title="Link to this heading">#</a></h3>
<section id="cek-missing-value">
<h4><strong>Cek Missing Value</strong><a class="headerlink" href="#cek-missing-value" title="Link to this heading">#</a></h4>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">missing_count</span> <span class="o">=</span> <span class="n">new_df</span><span class="o">.</span><span class="n">isnull</span><span class="p">()</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span>
<span class="n">missing_percent</span> <span class="o">=</span> <span class="p">(</span><span class="n">missing_count</span> <span class="o">/</span> <span class="nb">len</span><span class="p">(</span><span class="n">df</span><span class="p">))</span> <span class="o">*</span> <span class="mi">100</span>

<span class="n">fig</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">7</span><span class="p">,</span><span class="mi">5</span><span class="p">))</span>

<span class="n">bars</span> <span class="o">=</span> <span class="n">ax</span><span class="o">.</span><span class="n">bar</span><span class="p">(</span><span class="n">missing_count</span><span class="o">.</span><span class="n">index</span><span class="p">,</span> <span class="n">missing_count</span><span class="p">)</span>

<span class="n">ax</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="s2">&quot;Frekuensi Missing Values per Kolom&quot;</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_ylabel</span><span class="p">(</span><span class="s2">&quot;Jumlah Missing&quot;</span><span class="p">)</span>

<span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">v</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">missing_count</span><span class="p">):</span>
    <span class="n">ax</span><span class="o">.</span><span class="n">text</span><span class="p">(</span><span class="n">i</span><span class="p">,</span> <span class="n">v</span> <span class="o">+</span> <span class="mf">0.5</span><span class="p">,</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">v</span><span class="si">}</span><span class="s2"> (</span><span class="si">{</span><span class="n">missing_percent</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="si">:</span><span class="s2">.1f</span><span class="si">}</span><span class="s2">%)&quot;</span><span class="p">,</span>
            <span class="n">ha</span><span class="o">=</span><span class="s1">&#39;center&#39;</span><span class="p">,</span> <span class="n">va</span><span class="o">=</span><span class="s1">&#39;bottom&#39;</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">9</span><span class="p">)</span>

<span class="n">plt</span><span class="o">.</span><span class="n">tight_layout</span><span class="p">()</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>

<span class="n">missing_table</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">({</span>
    <span class="s1">&#39;Missing Count&#39;</span><span class="p">:</span> <span class="n">missing_count</span><span class="p">,</span>
    <span class="s1">&#39;Missing Percent (%)&#39;</span><span class="p">:</span> <span class="n">missing_percent</span><span class="o">.</span><span class="n">round</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
<span class="p">})</span>

<span class="n">missing_table</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>/tmp/ipython-input-3737469000.py:12: FutureWarning: Series.__getitem__ treating keys as positions is deprecated. In a future version, integer keys will always be treated as labels (consistent with DataFrame behavior). To access a value by position, use `ser.iloc[pos]`
  ax.text(i, v + 0.5, f&quot;{v} ({missing_percent[i]:.1f}%)&quot;,
</pre></div>
</div>
<img alt="_images/e4ef3af43d8534cc371db4ad475323f394c92b1c13bf38327d7cb8af0be31b34.png" src="_images/e4ef3af43d8534cc371db4ad475323f394c92b1c13bf38327d7cb8af0be31b34.png" />
<div class="output text_html">
  <div id="df-22136b70-3302-4a7c-8e2a-edc01c36fe4c" class="colab-df-container">
    <div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Missing Count</th>
      <th>Missing Percent (%)</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>date</th>
      <td>0</td>
      <td>0.00</td>
    </tr>
    <tr>
      <th>feature_index</th>
      <td>0</td>
      <td>0.00</td>
    </tr>
    <tr>
      <th>NO2</th>
      <td>3</td>
      <td>9.68</td>
    </tr>
  </tbody>
</table>
</div>
    <div class="colab-df-buttons">

  <div class="colab-df-container">
    <button class="colab-df-convert" onclick="convertToInteractive('df-22136b70-3302-4a7c-8e2a-edc01c36fe4c')"
            title="Convert this dataframe to an interactive table."
            style="display:none;">

  <svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960">
    <path d="M120-120v-720h720v720H120Zm60-500h600v-160H180v160Zm220 220h160v-160H400v160Zm0 220h160v-160H400v160ZM180-400h160v-160H180v160Zm440 0h160v-160H620v160ZM180-180h160v-160H180v160Zm440 0h160v-160H620v160Z"/>
  </svg>
    </button>

  <style>
    .colab-df-container {
      display:flex;
      gap: 12px;
    }

    .colab-df-convert {
      background-color: #E8F0FE;
      border: none;
      border-radius: 50%;
      cursor: pointer;
      display: none;
      fill: #1967D2;
      height: 32px;
      padding: 0 0 0 0;
      width: 32px;
    }

    .colab-df-convert:hover {
      background-color: #E2EBFA;
      box-shadow: 0px 1px 2px rgba(60, 64, 67, 0.3), 0px 1px 3px 1px rgba(60, 64, 67, 0.15);
      fill: #174EA6;
    }

    .colab-df-buttons div {
      margin-bottom: 4px;
    }

    [theme=dark] .colab-df-convert {
      background-color: #3B4455;
      fill: #D2E3FC;
    }

    [theme=dark] .colab-df-convert:hover {
      background-color: #434B5C;
      box-shadow: 0px 1px 3px 1px rgba(0, 0, 0, 0.15);
      filter: drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.3));
      fill: #FFFFFF;
    }
  </style>

    <script>
      const buttonEl =
        document.querySelector('#df-22136b70-3302-4a7c-8e2a-edc01c36fe4c button.colab-df-convert');
      buttonEl.style.display =
        google.colab.kernel.accessAllowed ? 'block' : 'none';

      async function convertToInteractive(key) {
        const element = document.querySelector('#df-22136b70-3302-4a7c-8e2a-edc01c36fe4c');
        const dataTable =
          await google.colab.kernel.invokeFunction('convertToInteractive',
                                                    [key], {});
        if (!dataTable) return;

        const docLinkHtml = 'Like what you see? Visit the ' +
          '<a target="_blank" href=https://colab.research.google.com/notebooks/data_table.ipynb>data table notebook</a>'
          + ' to learn more about interactive tables.';
        element.innerHTML = '';
        dataTable['output_type'] = 'display_data';
        await google.colab.output.renderOutput(dataTable, element);
        const docLink = document.createElement('div');
        docLink.innerHTML = docLinkHtml;
        element.appendChild(docLink);
      }
    </script>
  </div>


    <div id="df-3f2ce54c-7c55-49ad-b044-d4f955cf42b9">
      <button class="colab-df-quickchart" onclick="quickchart('df-3f2ce54c-7c55-49ad-b044-d4f955cf42b9')"
                title="Suggest charts"
                style="display:none;">

<svg xmlns="http://www.w3.org/2000/svg" height="24px"viewBox="0 0 24 24"
     width="24px">
    <g>
        <path d="M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zM9 17H7v-7h2v7zm4 0h-2V7h2v10zm4 0h-2v-4h2v4z"/>
    </g>
</svg>
      </button>

<style>
  .colab-df-quickchart {
      --bg-color: #E8F0FE;
      --fill-color: #1967D2;
      --hover-bg-color: #E2EBFA;
      --hover-fill-color: #174EA6;
      --disabled-fill-color: #AAA;
      --disabled-bg-color: #DDD;
  }

  [theme=dark] .colab-df-quickchart {
      --bg-color: #3B4455;
      --fill-color: #D2E3FC;
      --hover-bg-color: #434B5C;
      --hover-fill-color: #FFFFFF;
      --disabled-bg-color: #3B4455;
      --disabled-fill-color: #666;
  }

  .colab-df-quickchart {
    background-color: var(--bg-color);
    border: none;
    border-radius: 50%;
    cursor: pointer;
    display: none;
    fill: var(--fill-color);
    height: 32px;
    padding: 0;
    width: 32px;
  }

  .colab-df-quickchart:hover {
    background-color: var(--hover-bg-color);
    box-shadow: 0 1px 2px rgba(60, 64, 67, 0.3), 0 1px 3px 1px rgba(60, 64, 67, 0.15);
    fill: var(--button-hover-fill-color);
  }

  .colab-df-quickchart-complete:disabled,
  .colab-df-quickchart-complete:disabled:hover {
    background-color: var(--disabled-bg-color);
    fill: var(--disabled-fill-color);
    box-shadow: none;
  }

  .colab-df-spinner {
    border: 2px solid var(--fill-color);
    border-color: transparent;
    border-bottom-color: var(--fill-color);
    animation:
      spin 1s steps(1) infinite;
  }

  @keyframes spin {
    0% {
      border-color: transparent;
      border-bottom-color: var(--fill-color);
      border-left-color: var(--fill-color);
    }
    20% {
      border-color: transparent;
      border-left-color: var(--fill-color);
      border-top-color: var(--fill-color);
    }
    30% {
      border-color: transparent;
      border-left-color: var(--fill-color);
      border-top-color: var(--fill-color);
      border-right-color: var(--fill-color);
    }
    40% {
      border-color: transparent;
      border-right-color: var(--fill-color);
      border-top-color: var(--fill-color);
    }
    60% {
      border-color: transparent;
      border-right-color: var(--fill-color);
    }
    80% {
      border-color: transparent;
      border-right-color: var(--fill-color);
      border-bottom-color: var(--fill-color);
    }
    90% {
      border-color: transparent;
      border-bottom-color: var(--fill-color);
    }
  }
</style>

      <script>
        async function quickchart(key) {
          const quickchartButtonEl =
            document.querySelector('#' + key + ' button');
          quickchartButtonEl.disabled = true;  // To prevent multiple clicks.
          quickchartButtonEl.classList.add('colab-df-spinner');
          try {
            const charts = await google.colab.kernel.invokeFunction(
                'suggestCharts', [key], {});
          } catch (error) {
            console.error('Error during call to suggestCharts:', error);
          }
          quickchartButtonEl.classList.remove('colab-df-spinner');
          quickchartButtonEl.classList.add('colab-df-quickchart-complete');
        }
        (() => {
          let quickchartButtonEl =
            document.querySelector('#df-3f2ce54c-7c55-49ad-b044-d4f955cf42b9 button');
          quickchartButtonEl.style.display =
            google.colab.kernel.accessAllowed ? 'block' : 'none';
        })();
      </script>
    </div>

  <div id="id_4f23408e-b032-4aaa-9109-2d8daf0a9827">
    <style>
      .colab-df-generate {
        background-color: #E8F0FE;
        border: none;
        border-radius: 50%;
        cursor: pointer;
        display: none;
        fill: #1967D2;
        height: 32px;
        padding: 0 0 0 0;
        width: 32px;
      }

      .colab-df-generate:hover {
        background-color: #E2EBFA;
        box-shadow: 0px 1px 2px rgba(60, 64, 67, 0.3), 0px 1px 3px 1px rgba(60, 64, 67, 0.15);
        fill: #174EA6;
      }

      [theme=dark] .colab-df-generate {
        background-color: #3B4455;
        fill: #D2E3FC;
      }

      [theme=dark] .colab-df-generate:hover {
        background-color: #434B5C;
        box-shadow: 0px 1px 3px 1px rgba(0, 0, 0, 0.15);
        filter: drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.3));
        fill: #FFFFFF;
      }
    </style>
    <button class="colab-df-generate" onclick="generateWithVariable('missing_table')"
            title="Generate code using this dataframe."
            style="display:none;">

  <svg xmlns="http://www.w3.org/2000/svg" height="24px"viewBox="0 0 24 24"
       width="24px">
    <path d="M7,19H8.4L18.45,9,17,7.55,7,17.6ZM5,21V16.75L18.45,3.32a2,2,0,0,1,2.83,0l1.4,1.43a1.91,1.91,0,0,1,.58,1.4,1.91,1.91,0,0,1-.58,1.4L9.25,21ZM18.45,9,17,7.55Zm-12,3A5.31,5.31,0,0,0,4.9,8.1,5.31,5.31,0,0,0,1,6.5,5.31,5.31,0,0,0,4.9,4.9,5.31,5.31,0,0,0,6.5,1,5.31,5.31,0,0,0,8.1,4.9,5.31,5.31,0,0,0,12,6.5,5.46,5.46,0,0,0,6.5,12Z"/>
  </svg>
    </button>
    <script>
      (() => {
      const buttonEl =
        document.querySelector('#id_4f23408e-b032-4aaa-9109-2d8daf0a9827 button.colab-df-generate');
      buttonEl.style.display =
        google.colab.kernel.accessAllowed ? 'block' : 'none';

      buttonEl.onclick = () => {
        google.colab.notebook.generateWithVariable('missing_table');
      }
      })();
    </script>
  </div>

    </div>
  </div>
</div></div>
</div>
<p>Terlihat pada data yang sudah didapatkan, terdapat 3 missing value</p>
</section>
<section id="statistik-data">
<h4><strong>Statistik Data</strong><a class="headerlink" href="#statistik-data" title="Link to this heading">#</a></h4>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">desc</span> <span class="o">=</span> <span class="n">new_df</span><span class="o">.</span><span class="n">describe</span><span class="p">()</span>
<span class="n">desc</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html">
  <div id="df-519d2055-320c-4563-b7b0-9d23e0ab9dd2" class="colab-df-container">
    <div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>feature_index</th>
      <th>NO2</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>count</th>
      <td>31.0</td>
      <td>31.000000</td>
    </tr>
    <tr>
      <th>mean</th>
      <td>0.0</td>
      <td>0.000079</td>
    </tr>
    <tr>
      <th>std</th>
      <td>0.0</td>
      <td>0.000047</td>
    </tr>
    <tr>
      <th>min</th>
      <td>0.0</td>
      <td>0.000019</td>
    </tr>
    <tr>
      <th>25%</th>
      <td>0.0</td>
      <td>0.000052</td>
    </tr>
    <tr>
      <th>50%</th>
      <td>0.0</td>
      <td>0.000066</td>
    </tr>
    <tr>
      <th>75%</th>
      <td>0.0</td>
      <td>0.000095</td>
    </tr>
    <tr>
      <th>max</th>
      <td>0.0</td>
      <td>0.000261</td>
    </tr>
  </tbody>
</table>
</div>
    <div class="colab-df-buttons">

  <div class="colab-df-container">
    <button class="colab-df-convert" onclick="convertToInteractive('df-519d2055-320c-4563-b7b0-9d23e0ab9dd2')"
            title="Convert this dataframe to an interactive table."
            style="display:none;">

  <svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960">
    <path d="M120-120v-720h720v720H120Zm60-500h600v-160H180v160Zm220 220h160v-160H400v160Zm0 220h160v-160H400v160ZM180-400h160v-160H180v160Zm440 0h160v-160H620v160ZM180-180h160v-160H180v160Zm440 0h160v-160H620v160Z"/>
  </svg>
    </button>

  <style>
    .colab-df-container {
      display:flex;
      gap: 12px;
    }

    .colab-df-convert {
      background-color: #E8F0FE;
      border: none;
      border-radius: 50%;
      cursor: pointer;
      display: none;
      fill: #1967D2;
      height: 32px;
      padding: 0 0 0 0;
      width: 32px;
    }

    .colab-df-convert:hover {
      background-color: #E2EBFA;
      box-shadow: 0px 1px 2px rgba(60, 64, 67, 0.3), 0px 1px 3px 1px rgba(60, 64, 67, 0.15);
      fill: #174EA6;
    }

    .colab-df-buttons div {
      margin-bottom: 4px;
    }

    [theme=dark] .colab-df-convert {
      background-color: #3B4455;
      fill: #D2E3FC;
    }

    [theme=dark] .colab-df-convert:hover {
      background-color: #434B5C;
      box-shadow: 0px 1px 3px 1px rgba(0, 0, 0, 0.15);
      filter: drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.3));
      fill: #FFFFFF;
    }
  </style>

    <script>
      const buttonEl =
        document.querySelector('#df-519d2055-320c-4563-b7b0-9d23e0ab9dd2 button.colab-df-convert');
      buttonEl.style.display =
        google.colab.kernel.accessAllowed ? 'block' : 'none';

      async function convertToInteractive(key) {
        const element = document.querySelector('#df-519d2055-320c-4563-b7b0-9d23e0ab9dd2');
        const dataTable =
          await google.colab.kernel.invokeFunction('convertToInteractive',
                                                    [key], {});
        if (!dataTable) return;

        const docLinkHtml = 'Like what you see? Visit the ' +
          '<a target="_blank" href=https://colab.research.google.com/notebooks/data_table.ipynb>data table notebook</a>'
          + ' to learn more about interactive tables.';
        element.innerHTML = '';
        dataTable['output_type'] = 'display_data';
        await google.colab.output.renderOutput(dataTable, element);
        const docLink = document.createElement('div');
        docLink.innerHTML = docLinkHtml;
        element.appendChild(docLink);
      }
    </script>
  </div>


    <div id="df-d69452b2-2411-4caf-a5b9-3323b3651131">
      <button class="colab-df-quickchart" onclick="quickchart('df-d69452b2-2411-4caf-a5b9-3323b3651131')"
                title="Suggest charts"
                style="display:none;">

<svg xmlns="http://www.w3.org/2000/svg" height="24px"viewBox="0 0 24 24"
     width="24px">
    <g>
        <path d="M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zM9 17H7v-7h2v7zm4 0h-2V7h2v10zm4 0h-2v-4h2v4z"/>
    </g>
</svg>
      </button>

<style>
  .colab-df-quickchart {
      --bg-color: #E8F0FE;
      --fill-color: #1967D2;
      --hover-bg-color: #E2EBFA;
      --hover-fill-color: #174EA6;
      --disabled-fill-color: #AAA;
      --disabled-bg-color: #DDD;
  }

  [theme=dark] .colab-df-quickchart {
      --bg-color: #3B4455;
      --fill-color: #D2E3FC;
      --hover-bg-color: #434B5C;
      --hover-fill-color: #FFFFFF;
      --disabled-bg-color: #3B4455;
      --disabled-fill-color: #666;
  }

  .colab-df-quickchart {
    background-color: var(--bg-color);
    border: none;
    border-radius: 50%;
    cursor: pointer;
    display: none;
    fill: var(--fill-color);
    height: 32px;
    padding: 0;
    width: 32px;
  }

  .colab-df-quickchart:hover {
    background-color: var(--hover-bg-color);
    box-shadow: 0 1px 2px rgba(60, 64, 67, 0.3), 0 1px 3px 1px rgba(60, 64, 67, 0.15);
    fill: var(--button-hover-fill-color);
  }

  .colab-df-quickchart-complete:disabled,
  .colab-df-quickchart-complete:disabled:hover {
    background-color: var(--disabled-bg-color);
    fill: var(--disabled-fill-color);
    box-shadow: none;
  }

  .colab-df-spinner {
    border: 2px solid var(--fill-color);
    border-color: transparent;
    border-bottom-color: var(--fill-color);
    animation:
      spin 1s steps(1) infinite;
  }

  @keyframes spin {
    0% {
      border-color: transparent;
      border-bottom-color: var(--fill-color);
      border-left-color: var(--fill-color);
    }
    20% {
      border-color: transparent;
      border-left-color: var(--fill-color);
      border-top-color: var(--fill-color);
    }
    30% {
      border-color: transparent;
      border-left-color: var(--fill-color);
      border-top-color: var(--fill-color);
      border-right-color: var(--fill-color);
    }
    40% {
      border-color: transparent;
      border-right-color: var(--fill-color);
      border-top-color: var(--fill-color);
    }
    60% {
      border-color: transparent;
      border-right-color: var(--fill-color);
    }
    80% {
      border-color: transparent;
      border-right-color: var(--fill-color);
      border-bottom-color: var(--fill-color);
    }
    90% {
      border-color: transparent;
      border-bottom-color: var(--fill-color);
    }
  }
</style>

      <script>
        async function quickchart(key) {
          const quickchartButtonEl =
            document.querySelector('#' + key + ' button');
          quickchartButtonEl.disabled = true;  // To prevent multiple clicks.
          quickchartButtonEl.classList.add('colab-df-spinner');
          try {
            const charts = await google.colab.kernel.invokeFunction(
                'suggestCharts', [key], {});
          } catch (error) {
            console.error('Error during call to suggestCharts:', error);
          }
          quickchartButtonEl.classList.remove('colab-df-spinner');
          quickchartButtonEl.classList.add('colab-df-quickchart-complete');
        }
        (() => {
          let quickchartButtonEl =
            document.querySelector('#df-d69452b2-2411-4caf-a5b9-3323b3651131 button');
          quickchartButtonEl.style.display =
            google.colab.kernel.accessAllowed ? 'block' : 'none';
        })();
      </script>
    </div>

  <div id="id_1f5fd10c-2c29-40e0-96cd-931e4a84f367">
    <style>
      .colab-df-generate {
        background-color: #E8F0FE;
        border: none;
        border-radius: 50%;
        cursor: pointer;
        display: none;
        fill: #1967D2;
        height: 32px;
        padding: 0 0 0 0;
        width: 32px;
      }

      .colab-df-generate:hover {
        background-color: #E2EBFA;
        box-shadow: 0px 1px 2px rgba(60, 64, 67, 0.3), 0px 1px 3px 1px rgba(60, 64, 67, 0.15);
        fill: #174EA6;
      }

      [theme=dark] .colab-df-generate {
        background-color: #3B4455;
        fill: #D2E3FC;
      }

      [theme=dark] .colab-df-generate:hover {
        background-color: #434B5C;
        box-shadow: 0px 1px 3px 1px rgba(0, 0, 0, 0.15);
        filter: drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.3));
        fill: #FFFFFF;
      }
    </style>
    <button class="colab-df-generate" onclick="generateWithVariable('desc')"
            title="Generate code using this dataframe."
            style="display:none;">

  <svg xmlns="http://www.w3.org/2000/svg" height="24px"viewBox="0 0 24 24"
       width="24px">
    <path d="M7,19H8.4L18.45,9,17,7.55,7,17.6ZM5,21V16.75L18.45,3.32a2,2,0,0,1,2.83,0l1.4,1.43a1.91,1.91,0,0,1,.58,1.4,1.91,1.91,0,0,1-.58,1.4L9.25,21ZM18.45,9,17,7.55Zm-12,3A5.31,5.31,0,0,0,4.9,8.1,5.31,5.31,0,0,0,1,6.5,5.31,5.31,0,0,0,4.9,4.9,5.31,5.31,0,0,0,6.5,1,5.31,5.31,0,0,0,8.1,4.9,5.31,5.31,0,0,0,12,6.5,5.46,5.46,0,0,0,6.5,12Z"/>
  </svg>
    </button>
    <script>
      (() => {
      const buttonEl =
        document.querySelector('#id_1f5fd10c-2c29-40e0-96cd-931e4a84f367 button.colab-df-generate');
      buttonEl.style.display =
        google.colab.kernel.accessAllowed ? 'block' : 'none';

      buttonEl.onclick = () => {
        google.colab.notebook.generateWithVariable('desc');
      }
      })();
    </script>
  </div>

    </div>
  </div>
</div></div>
</div>
<ul class="simple">
<li><p>Jumlah data yang valid (ada 31 hari pengamatan).</p></li>
<li><p>Jumlah data yang valid (ada 31 hari pengamatan).</p></li>
<li><p>Jumlah data yang valid (ada 31 hari pengamatan).</p></li>
<li><p>Jumlah data yang valid (ada 31 hari pengamatan).</p></li>
<li><p>Jumlah data yang valid (ada 31 hari pengamatan).</p></li>
<li><p>Jumlah data yang valid (ada 31 hari pengamatan).</p></li>
<li><p>Jumlah data yang valid (ada 31 hari pengamatan).</p></li>
<li><p>Jumlah data yang valid (ada 31 hari pengamatan).</p></li>
</ul>
</section>
</section>
</section>
<section id="prepocessing-data">
<h2><strong>Prepocessing Data</strong><a class="headerlink" href="#prepocessing-data" title="Link to this heading">#</a></h2>
<section id="penanganan-missing-value">
<h3><strong>Penanganan Missing Value</strong><a class="headerlink" href="#penanganan-missing-value" title="Link to this heading">#</a></h3>
<p>Missing value pada data NO₂ ditangani menggunakan metode interpolasi linier dan pengisian berantai (backward dan forward fill).</p>
<p>Pertama, dilakukan interpolasi linier untuk memperkirakan nilai yang hilang di antara dua data yang masih valid berdasarkan kecenderungan garis lurus. Langkah ini menjaga kontinuitas perubahan nilai harian tanpa mengubah pola tren aslinya.</p>
<p>Setelah itu, jika masih terdapat nilai kosong di awal atau akhir data, dilakukan pengisian nilai terdekat menggunakan metode backward fill (mengisi dengan nilai setelahnya) dan forward fill (mengisi dengan nilai sebelumnya).</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">new_df</span><span class="p">[</span><span class="s1">&#39;NO2&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">new_df</span><span class="p">[</span><span class="s1">&#39;NO2&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">interpolate</span><span class="p">(</span><span class="n">method</span><span class="o">=</span><span class="s1">&#39;linear&#39;</span><span class="p">)</span>
<span class="n">new_df</span><span class="p">[</span><span class="s1">&#39;NO2&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">new_df</span><span class="p">[</span><span class="s1">&#39;NO2&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">fillna</span><span class="p">(</span><span class="n">method</span><span class="o">=</span><span class="s1">&#39;bfill&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">fillna</span><span class="p">(</span><span class="n">method</span><span class="o">=</span><span class="s1">&#39;ffill&#39;</span><span class="p">)</span>

</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>/tmp/ipython-input-3842364359.py:2: FutureWarning: Series.fillna with &#39;method&#39; is deprecated and will raise in a future version. Use obj.ffill() or obj.bfill() instead.
  new_df[&#39;NO2&#39;] = new_df[&#39;NO2&#39;].fillna(method=&#39;bfill&#39;).fillna(method=&#39;ffill&#39;)
</pre></div>
</div>
</div>
</div>
<p>Tampilkan Data</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">info_table</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">({</span>
    <span class="s2">&quot;Kolom&quot;</span><span class="p">:</span> <span class="n">new_df</span><span class="o">.</span><span class="n">columns</span><span class="p">,</span>
    <span class="s2">&quot;Tipe Data&quot;</span><span class="p">:</span> <span class="n">new_df</span><span class="o">.</span><span class="n">dtypes</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="nb">str</span><span class="p">),</span>
    <span class="s2">&quot;Jumlah Data Tidak Kosong&quot;</span><span class="p">:</span> <span class="nb">len</span><span class="p">(</span><span class="n">new_df</span><span class="p">)</span> <span class="o">-</span> <span class="n">new_df</span><span class="o">.</span><span class="n">isna</span><span class="p">()</span><span class="o">.</span><span class="n">sum</span><span class="p">(),</span>
    <span class="s2">&quot;Jumlah Missing&quot;</span><span class="p">:</span> <span class="n">new_df</span><span class="o">.</span><span class="n">isna</span><span class="p">()</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span>
<span class="p">})</span>
<span class="n">info_table</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html">
  <div id="df-c2a03426-c9b4-4777-b3bb-321527743f2a" class="colab-df-container">
    <div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Kolom</th>
      <th>Tipe Data</th>
      <th>Jumlah Data Tidak Kosong</th>
      <th>Jumlah Missing</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>date</th>
      <td>date</td>
      <td>object</td>
      <td>31</td>
      <td>0</td>
    </tr>
    <tr>
      <th>feature_index</th>
      <td>feature_index</td>
      <td>int64</td>
      <td>31</td>
      <td>0</td>
    </tr>
    <tr>
      <th>NO2</th>
      <td>NO2</td>
      <td>float64</td>
      <td>31</td>
      <td>0</td>
    </tr>
  </tbody>
</table>
</div>
    <div class="colab-df-buttons">

  <div class="colab-df-container">
    <button class="colab-df-convert" onclick="convertToInteractive('df-c2a03426-c9b4-4777-b3bb-321527743f2a')"
            title="Convert this dataframe to an interactive table."
            style="display:none;">

  <svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960">
    <path d="M120-120v-720h720v720H120Zm60-500h600v-160H180v160Zm220 220h160v-160H400v160Zm0 220h160v-160H400v160ZM180-400h160v-160H180v160Zm440 0h160v-160H620v160ZM180-180h160v-160H180v160Zm440 0h160v-160H620v160Z"/>
  </svg>
    </button>

  <style>
    .colab-df-container {
      display:flex;
      gap: 12px;
    }

    .colab-df-convert {
      background-color: #E8F0FE;
      border: none;
      border-radius: 50%;
      cursor: pointer;
      display: none;
      fill: #1967D2;
      height: 32px;
      padding: 0 0 0 0;
      width: 32px;
    }

    .colab-df-convert:hover {
      background-color: #E2EBFA;
      box-shadow: 0px 1px 2px rgba(60, 64, 67, 0.3), 0px 1px 3px 1px rgba(60, 64, 67, 0.15);
      fill: #174EA6;
    }

    .colab-df-buttons div {
      margin-bottom: 4px;
    }

    [theme=dark] .colab-df-convert {
      background-color: #3B4455;
      fill: #D2E3FC;
    }

    [theme=dark] .colab-df-convert:hover {
      background-color: #434B5C;
      box-shadow: 0px 1px 3px 1px rgba(0, 0, 0, 0.15);
      filter: drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.3));
      fill: #FFFFFF;
    }
  </style>

    <script>
      const buttonEl =
        document.querySelector('#df-c2a03426-c9b4-4777-b3bb-321527743f2a button.colab-df-convert');
      buttonEl.style.display =
        google.colab.kernel.accessAllowed ? 'block' : 'none';

      async function convertToInteractive(key) {
        const element = document.querySelector('#df-c2a03426-c9b4-4777-b3bb-321527743f2a');
        const dataTable =
          await google.colab.kernel.invokeFunction('convertToInteractive',
                                                    [key], {});
        if (!dataTable) return;

        const docLinkHtml = 'Like what you see? Visit the ' +
          '<a target="_blank" href=https://colab.research.google.com/notebooks/data_table.ipynb>data table notebook</a>'
          + ' to learn more about interactive tables.';
        element.innerHTML = '';
        dataTable['output_type'] = 'display_data';
        await google.colab.output.renderOutput(dataTable, element);
        const docLink = document.createElement('div');
        docLink.innerHTML = docLinkHtml;
        element.appendChild(docLink);
      }
    </script>
  </div>


    <div id="df-ae0f3a55-0288-48ba-88f9-f99503e9fa7d">
      <button class="colab-df-quickchart" onclick="quickchart('df-ae0f3a55-0288-48ba-88f9-f99503e9fa7d')"
                title="Suggest charts"
                style="display:none;">

<svg xmlns="http://www.w3.org/2000/svg" height="24px"viewBox="0 0 24 24"
     width="24px">
    <g>
        <path d="M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zM9 17H7v-7h2v7zm4 0h-2V7h2v10zm4 0h-2v-4h2v4z"/>
    </g>
</svg>
      </button>

<style>
  .colab-df-quickchart {
      --bg-color: #E8F0FE;
      --fill-color: #1967D2;
      --hover-bg-color: #E2EBFA;
      --hover-fill-color: #174EA6;
      --disabled-fill-color: #AAA;
      --disabled-bg-color: #DDD;
  }

  [theme=dark] .colab-df-quickchart {
      --bg-color: #3B4455;
      --fill-color: #D2E3FC;
      --hover-bg-color: #434B5C;
      --hover-fill-color: #FFFFFF;
      --disabled-bg-color: #3B4455;
      --disabled-fill-color: #666;
  }

  .colab-df-quickchart {
    background-color: var(--bg-color);
    border: none;
    border-radius: 50%;
    cursor: pointer;
    display: none;
    fill: var(--fill-color);
    height: 32px;
    padding: 0;
    width: 32px;
  }

  .colab-df-quickchart:hover {
    background-color: var(--hover-bg-color);
    box-shadow: 0 1px 2px rgba(60, 64, 67, 0.3), 0 1px 3px 1px rgba(60, 64, 67, 0.15);
    fill: var(--button-hover-fill-color);
  }

  .colab-df-quickchart-complete:disabled,
  .colab-df-quickchart-complete:disabled:hover {
    background-color: var(--disabled-bg-color);
    fill: var(--disabled-fill-color);
    box-shadow: none;
  }

  .colab-df-spinner {
    border: 2px solid var(--fill-color);
    border-color: transparent;
    border-bottom-color: var(--fill-color);
    animation:
      spin 1s steps(1) infinite;
  }

  @keyframes spin {
    0% {
      border-color: transparent;
      border-bottom-color: var(--fill-color);
      border-left-color: var(--fill-color);
    }
    20% {
      border-color: transparent;
      border-left-color: var(--fill-color);
      border-top-color: var(--fill-color);
    }
    30% {
      border-color: transparent;
      border-left-color: var(--fill-color);
      border-top-color: var(--fill-color);
      border-right-color: var(--fill-color);
    }
    40% {
      border-color: transparent;
      border-right-color: var(--fill-color);
      border-top-color: var(--fill-color);
    }
    60% {
      border-color: transparent;
      border-right-color: var(--fill-color);
    }
    80% {
      border-color: transparent;
      border-right-color: var(--fill-color);
      border-bottom-color: var(--fill-color);
    }
    90% {
      border-color: transparent;
      border-bottom-color: var(--fill-color);
    }
  }
</style>

      <script>
        async function quickchart(key) {
          const quickchartButtonEl =
            document.querySelector('#' + key + ' button');
          quickchartButtonEl.disabled = true;  // To prevent multiple clicks.
          quickchartButtonEl.classList.add('colab-df-spinner');
          try {
            const charts = await google.colab.kernel.invokeFunction(
                'suggestCharts', [key], {});
          } catch (error) {
            console.error('Error during call to suggestCharts:', error);
          }
          quickchartButtonEl.classList.remove('colab-df-spinner');
          quickchartButtonEl.classList.add('colab-df-quickchart-complete');
        }
        (() => {
          let quickchartButtonEl =
            document.querySelector('#df-ae0f3a55-0288-48ba-88f9-f99503e9fa7d button');
          quickchartButtonEl.style.display =
            google.colab.kernel.accessAllowed ? 'block' : 'none';
        })();
      </script>
    </div>

  <div id="id_53040097-3b42-44df-987f-077b11622c5b">
    <style>
      .colab-df-generate {
        background-color: #E8F0FE;
        border: none;
        border-radius: 50%;
        cursor: pointer;
        display: none;
        fill: #1967D2;
        height: 32px;
        padding: 0 0 0 0;
        width: 32px;
      }

      .colab-df-generate:hover {
        background-color: #E2EBFA;
        box-shadow: 0px 1px 2px rgba(60, 64, 67, 0.3), 0px 1px 3px 1px rgba(60, 64, 67, 0.15);
        fill: #174EA6;
      }

      [theme=dark] .colab-df-generate {
        background-color: #3B4455;
        fill: #D2E3FC;
      }

      [theme=dark] .colab-df-generate:hover {
        background-color: #434B5C;
        box-shadow: 0px 1px 3px 1px rgba(0, 0, 0, 0.15);
        filter: drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.3));
        fill: #FFFFFF;
      }
    </style>
    <button class="colab-df-generate" onclick="generateWithVariable('info_table')"
            title="Generate code using this dataframe."
            style="display:none;">

  <svg xmlns="http://www.w3.org/2000/svg" height="24px"viewBox="0 0 24 24"
       width="24px">
    <path d="M7,19H8.4L18.45,9,17,7.55,7,17.6ZM5,21V16.75L18.45,3.32a2,2,0,0,1,2.83,0l1.4,1.43a1.91,1.91,0,0,1,.58,1.4,1.91,1.91,0,0,1-.58,1.4L9.25,21ZM18.45,9,17,7.55Zm-12,3A5.31,5.31,0,0,0,4.9,8.1,5.31,5.31,0,0,0,1,6.5,5.31,5.31,0,0,0,4.9,4.9,5.31,5.31,0,0,0,6.5,1,5.31,5.31,0,0,0,8.1,4.9,5.31,5.31,0,0,0,12,6.5,5.46,5.46,0,0,0,6.5,12Z"/>
  </svg>
    </button>
    <script>
      (() => {
      const buttonEl =
        document.querySelector('#id_53040097-3b42-44df-987f-077b11622c5b button.colab-df-generate');
      buttonEl.style.display =
        google.colab.kernel.accessAllowed ? 'block' : 'none';

      buttonEl.onclick = () => {
        google.colab.notebook.generateWithVariable('info_table');
      }
      })();
    </script>
  </div>

    </div>
  </div>
</div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">5</span><span class="p">))</span>
<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">new_df</span><span class="p">[</span><span class="s1">&#39;date&#39;</span><span class="p">],</span> <span class="n">new_df</span><span class="p">[</span><span class="s1">&#39;NO2&#39;</span><span class="p">],</span> <span class="n">marker</span><span class="o">=</span><span class="s1">&#39;o&#39;</span><span class="p">,</span> <span class="n">linestyle</span><span class="o">=</span><span class="s1">&#39;-&#39;</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;blue&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s2">&quot;Konsentrasi NO₂ terhadap Waktu&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s2">&quot;Tanggal&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s2">&quot;Konsentrasi NO₂&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="kc">True</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">tight_layout</span><span class="p">()</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/a81e3a76c00c0218bbb244de25ce85faa92f25384a016a22670271c1e8ed1f85.png" src="_images/a81e3a76c00c0218bbb244de25ce85faa92f25384a016a22670271c1e8ed1f85.png" />
</div>
</div>
<p>Grafik yang kamu tampilkan menunjukkan perubahan konsentrasi gas <em>NO₂</em> (Nitrogen Dioksida) terhadap waktu di wilayah <strong>Gresik</strong> selama periode <strong>20 September – 20 Oktober 2025.</strong></p>
</section>
<section id="hasil-grafik">
<h3>Hasil Grafik<a class="headerlink" href="#hasil-grafik" title="Link to this heading">#</a></h3>
<ol class="arabic simple">
<li><p>Fluktuasi yang jelas antar hari
Terlihat bahwa kadar NO₂ naik-turun cukup tajam, menandakan bahwa polusi udara di wilayah Gresik berubah secara signifikan dari hari ke hari — kemungkinan dipengaruhi oleh faktor cuaca (hujan, arah angin) atau aktivitas industri.</p></li>
<li><p>Puncak tertinggi sekitar 24–25 September 2025
Nilai NO₂ mencapai puncaknya (sekitar 0.00025 mol/m²) pada tanggal tersebut.
Ini bisa menandakan:</p>
<ul class="simple">
<li><p>Aktivitas industri atau lalu lintas yang meningkat, atau</p></li>
<li><p>Kondisi atmosfer (misalnya cuaca stabil tanpa hujan) yang menyebabkan akumulasi polutan.</p></li>
</ul>
</li>
<li><p>Penurunan tajam setelah puncak
Setelah tanggal 25 September, kadar NO₂ turun drastis — kemungkinan karena curah hujan atau angin kuat yang menyebarkan polutan.</p></li>
<li><p>Periode stabil di awal Oktober
Sekitar 1–10 Oktober terlihat fluktuasi ringan dengan pola relatif stabil di kisaran 0.00005 – 0.00015 mol/m².
Ini menandakan udara lebih bersih dibandingkan akhir September.</p></li>
<li><p>Fluktuasi kecil di pertengahan Oktober
Menjelang pertengahan bulan (10–17 Oktober), konsentrasi NO₂ sedikit meningkat lalu turun kembali, menandakan aktivitas polutan yang sedang-sedang saja.</p></li>
</ol>
</section>
</section>
<section id="pengubahan-data-menjadi-supervised-learning">
<h2><strong>Pengubahan Data Menjadi Supervised Learning</strong><a class="headerlink" href="#pengubahan-data-menjadi-supervised-learning" title="Link to this heading">#</a></h2>
<p>Karena model hanya butuh nilai angka (NO2) tanpa informasi tanggal, kolom date dihapus agar dataset berisi nilai konsentrasi saja.</p>
<p>langkah ini dilakukan dengan menggeser (lagging) data historis untuk membuat hubungan antara nilai-nilai masa lalu dan nilai masa kini. Artinya, kita mengubah satu kolom data deret waktu — misalnya kolom NO2 — menjadi format input-output.</p>
<p>Dalam bentuk sederhananya:</p>
<p>Nilai-nilai dari beberapa hari sebelumnya (t-1, t-2, t-3, dst.) dijadikan sebagai fitur (X)</p>
<p>Nilai hari ini (t) dijadikan sebagai target (y) yang akan diprediksi</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">day2</span> <span class="o">=</span> <span class="n">new_df</span>
<span class="n">day3</span> <span class="o">=</span> <span class="n">new_df</span>
<span class="n">day4</span> <span class="o">=</span> <span class="n">new_df</span>
<span class="n">day5</span> <span class="o">=</span> <span class="n">new_df</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">day2</span> <span class="o">=</span> <span class="n">day2</span><span class="o">.</span><span class="n">drop</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;date&#39;</span><span class="p">])</span>
<span class="n">n</span> <span class="o">=</span> <span class="mi">2</span>

<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="n">n</span> <span class="o">+</span> <span class="mi">1</span><span class="p">):</span>
    <span class="n">names</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;t</span><span class="si">{</span><span class="n">i</span><span class="si">}</span><span class="s2">&quot;</span>
    <span class="n">day2</span><span class="p">[</span><span class="n">names</span><span class="p">]</span> <span class="o">=</span> <span class="n">day2</span><span class="p">[</span><span class="s1">&#39;NO2&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">shift</span><span class="p">(</span><span class="n">i</span><span class="p">)</span>

<span class="n">day2</span> <span class="o">=</span> <span class="n">day2</span><span class="o">.</span><span class="n">dropna</span><span class="p">()</span><span class="o">.</span><span class="n">reset_index</span><span class="p">(</span><span class="n">drop</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="n">day2</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html">
  <div id="df-46cdbb0b-3add-43f7-b224-bed23f91dcfa" class="colab-df-container">
    <div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>feature_index</th>
      <th>NO2</th>
      <th>t1</th>
      <th>t2</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>0</td>
      <td>0.000063</td>
      <td>0.000104</td>
      <td>0.000104</td>
    </tr>
    <tr>
      <th>1</th>
      <td>0</td>
      <td>0.000066</td>
      <td>0.000063</td>
      <td>0.000104</td>
    </tr>
    <tr>
      <th>2</th>
      <td>0</td>
      <td>0.000158</td>
      <td>0.000066</td>
      <td>0.000063</td>
    </tr>
    <tr>
      <th>3</th>
      <td>0</td>
      <td>0.000261</td>
      <td>0.000158</td>
      <td>0.000066</td>
    </tr>
    <tr>
      <th>4</th>
      <td>0</td>
      <td>0.000087</td>
      <td>0.000261</td>
      <td>0.000158</td>
    </tr>
    <tr>
      <th>5</th>
      <td>0</td>
      <td>0.000056</td>
      <td>0.000087</td>
      <td>0.000261</td>
    </tr>
    <tr>
      <th>6</th>
      <td>0</td>
      <td>0.000039</td>
      <td>0.000056</td>
      <td>0.000087</td>
    </tr>
    <tr>
      <th>7</th>
      <td>0</td>
      <td>0.000032</td>
      <td>0.000039</td>
      <td>0.000056</td>
    </tr>
    <tr>
      <th>8</th>
      <td>0</td>
      <td>0.000051</td>
      <td>0.000032</td>
      <td>0.000039</td>
    </tr>
    <tr>
      <th>9</th>
      <td>0</td>
      <td>0.000069</td>
      <td>0.000051</td>
      <td>0.000032</td>
    </tr>
    <tr>
      <th>10</th>
      <td>0</td>
      <td>0.000087</td>
      <td>0.000069</td>
      <td>0.000051</td>
    </tr>
    <tr>
      <th>11</th>
      <td>0</td>
      <td>0.000104</td>
      <td>0.000087</td>
      <td>0.000069</td>
    </tr>
    <tr>
      <th>12</th>
      <td>0</td>
      <td>0.000060</td>
      <td>0.000104</td>
      <td>0.000087</td>
    </tr>
    <tr>
      <th>13</th>
      <td>0</td>
      <td>0.000077</td>
      <td>0.000060</td>
      <td>0.000104</td>
    </tr>
    <tr>
      <th>14</th>
      <td>0</td>
      <td>0.000051</td>
      <td>0.000077</td>
      <td>0.000060</td>
    </tr>
    <tr>
      <th>15</th>
      <td>0</td>
      <td>0.000071</td>
      <td>0.000051</td>
      <td>0.000077</td>
    </tr>
    <tr>
      <th>16</th>
      <td>0</td>
      <td>0.000110</td>
      <td>0.000071</td>
      <td>0.000051</td>
    </tr>
    <tr>
      <th>17</th>
      <td>0</td>
      <td>0.000087</td>
      <td>0.000110</td>
      <td>0.000071</td>
    </tr>
    <tr>
      <th>18</th>
      <td>0</td>
      <td>0.000140</td>
      <td>0.000087</td>
      <td>0.000110</td>
    </tr>
    <tr>
      <th>19</th>
      <td>0</td>
      <td>0.000133</td>
      <td>0.000140</td>
      <td>0.000087</td>
    </tr>
    <tr>
      <th>20</th>
      <td>0</td>
      <td>0.000065</td>
      <td>0.000133</td>
      <td>0.000140</td>
    </tr>
    <tr>
      <th>21</th>
      <td>0</td>
      <td>0.000023</td>
      <td>0.000065</td>
      <td>0.000133</td>
    </tr>
    <tr>
      <th>22</th>
      <td>0</td>
      <td>0.000019</td>
      <td>0.000023</td>
      <td>0.000065</td>
    </tr>
    <tr>
      <th>23</th>
      <td>0</td>
      <td>0.000059</td>
      <td>0.000019</td>
      <td>0.000023</td>
    </tr>
    <tr>
      <th>24</th>
      <td>0</td>
      <td>0.000061</td>
      <td>0.000059</td>
      <td>0.000019</td>
    </tr>
    <tr>
      <th>25</th>
      <td>0</td>
      <td>0.000068</td>
      <td>0.000061</td>
      <td>0.000059</td>
    </tr>
    <tr>
      <th>26</th>
      <td>0</td>
      <td>0.000053</td>
      <td>0.000068</td>
      <td>0.000061</td>
    </tr>
    <tr>
      <th>27</th>
      <td>0</td>
      <td>0.000048</td>
      <td>0.000053</td>
      <td>0.000068</td>
    </tr>
    <tr>
      <th>28</th>
      <td>0</td>
      <td>0.000044</td>
      <td>0.000048</td>
      <td>0.000053</td>
    </tr>
  </tbody>
</table>
</div>
    <div class="colab-df-buttons">

  <div class="colab-df-container">
    <button class="colab-df-convert" onclick="convertToInteractive('df-46cdbb0b-3add-43f7-b224-bed23f91dcfa')"
            title="Convert this dataframe to an interactive table."
            style="display:none;">

  <svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960">
    <path d="M120-120v-720h720v720H120Zm60-500h600v-160H180v160Zm220 220h160v-160H400v160Zm0 220h160v-160H400v160ZM180-400h160v-160H180v160Zm440 0h160v-160H620v160ZM180-180h160v-160H180v160Zm440 0h160v-160H620v160Z"/>
  </svg>
    </button>

  <style>
    .colab-df-container {
      display:flex;
      gap: 12px;
    }

    .colab-df-convert {
      background-color: #E8F0FE;
      border: none;
      border-radius: 50%;
      cursor: pointer;
      display: none;
      fill: #1967D2;
      height: 32px;
      padding: 0 0 0 0;
      width: 32px;
    }

    .colab-df-convert:hover {
      background-color: #E2EBFA;
      box-shadow: 0px 1px 2px rgba(60, 64, 67, 0.3), 0px 1px 3px 1px rgba(60, 64, 67, 0.15);
      fill: #174EA6;
    }

    .colab-df-buttons div {
      margin-bottom: 4px;
    }

    [theme=dark] .colab-df-convert {
      background-color: #3B4455;
      fill: #D2E3FC;
    }

    [theme=dark] .colab-df-convert:hover {
      background-color: #434B5C;
      box-shadow: 0px 1px 3px 1px rgba(0, 0, 0, 0.15);
      filter: drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.3));
      fill: #FFFFFF;
    }
  </style>

    <script>
      const buttonEl =
        document.querySelector('#df-46cdbb0b-3add-43f7-b224-bed23f91dcfa button.colab-df-convert');
      buttonEl.style.display =
        google.colab.kernel.accessAllowed ? 'block' : 'none';

      async function convertToInteractive(key) {
        const element = document.querySelector('#df-46cdbb0b-3add-43f7-b224-bed23f91dcfa');
        const dataTable =
          await google.colab.kernel.invokeFunction('convertToInteractive',
                                                    [key], {});
        if (!dataTable) return;

        const docLinkHtml = 'Like what you see? Visit the ' +
          '<a target="_blank" href=https://colab.research.google.com/notebooks/data_table.ipynb>data table notebook</a>'
          + ' to learn more about interactive tables.';
        element.innerHTML = '';
        dataTable['output_type'] = 'display_data';
        await google.colab.output.renderOutput(dataTable, element);
        const docLink = document.createElement('div');
        docLink.innerHTML = docLinkHtml;
        element.appendChild(docLink);
      }
    </script>
  </div>


    <div id="df-02b8ee19-d467-4ddc-9712-03efdbe67acc">
      <button class="colab-df-quickchart" onclick="quickchart('df-02b8ee19-d467-4ddc-9712-03efdbe67acc')"
                title="Suggest charts"
                style="display:none;">

<svg xmlns="http://www.w3.org/2000/svg" height="24px"viewBox="0 0 24 24"
     width="24px">
    <g>
        <path d="M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zM9 17H7v-7h2v7zm4 0h-2V7h2v10zm4 0h-2v-4h2v4z"/>
    </g>
</svg>
      </button>

<style>
  .colab-df-quickchart {
      --bg-color: #E8F0FE;
      --fill-color: #1967D2;
      --hover-bg-color: #E2EBFA;
      --hover-fill-color: #174EA6;
      --disabled-fill-color: #AAA;
      --disabled-bg-color: #DDD;
  }

  [theme=dark] .colab-df-quickchart {
      --bg-color: #3B4455;
      --fill-color: #D2E3FC;
      --hover-bg-color: #434B5C;
      --hover-fill-color: #FFFFFF;
      --disabled-bg-color: #3B4455;
      --disabled-fill-color: #666;
  }

  .colab-df-quickchart {
    background-color: var(--bg-color);
    border: none;
    border-radius: 50%;
    cursor: pointer;
    display: none;
    fill: var(--fill-color);
    height: 32px;
    padding: 0;
    width: 32px;
  }

  .colab-df-quickchart:hover {
    background-color: var(--hover-bg-color);
    box-shadow: 0 1px 2px rgba(60, 64, 67, 0.3), 0 1px 3px 1px rgba(60, 64, 67, 0.15);
    fill: var(--button-hover-fill-color);
  }

  .colab-df-quickchart-complete:disabled,
  .colab-df-quickchart-complete:disabled:hover {
    background-color: var(--disabled-bg-color);
    fill: var(--disabled-fill-color);
    box-shadow: none;
  }

  .colab-df-spinner {
    border: 2px solid var(--fill-color);
    border-color: transparent;
    border-bottom-color: var(--fill-color);
    animation:
      spin 1s steps(1) infinite;
  }

  @keyframes spin {
    0% {
      border-color: transparent;
      border-bottom-color: var(--fill-color);
      border-left-color: var(--fill-color);
    }
    20% {
      border-color: transparent;
      border-left-color: var(--fill-color);
      border-top-color: var(--fill-color);
    }
    30% {
      border-color: transparent;
      border-left-color: var(--fill-color);
      border-top-color: var(--fill-color);
      border-right-color: var(--fill-color);
    }
    40% {
      border-color: transparent;
      border-right-color: var(--fill-color);
      border-top-color: var(--fill-color);
    }
    60% {
      border-color: transparent;
      border-right-color: var(--fill-color);
    }
    80% {
      border-color: transparent;
      border-right-color: var(--fill-color);
      border-bottom-color: var(--fill-color);
    }
    90% {
      border-color: transparent;
      border-bottom-color: var(--fill-color);
    }
  }
</style>

      <script>
        async function quickchart(key) {
          const quickchartButtonEl =
            document.querySelector('#' + key + ' button');
          quickchartButtonEl.disabled = true;  // To prevent multiple clicks.
          quickchartButtonEl.classList.add('colab-df-spinner');
          try {
            const charts = await google.colab.kernel.invokeFunction(
                'suggestCharts', [key], {});
          } catch (error) {
            console.error('Error during call to suggestCharts:', error);
          }
          quickchartButtonEl.classList.remove('colab-df-spinner');
          quickchartButtonEl.classList.add('colab-df-quickchart-complete');
        }
        (() => {
          let quickchartButtonEl =
            document.querySelector('#df-02b8ee19-d467-4ddc-9712-03efdbe67acc button');
          quickchartButtonEl.style.display =
            google.colab.kernel.accessAllowed ? 'block' : 'none';
        })();
      </script>
    </div>

  <div id="id_ed387b16-0507-4614-ae5b-8ef3ad87524e">
    <style>
      .colab-df-generate {
        background-color: #E8F0FE;
        border: none;
        border-radius: 50%;
        cursor: pointer;
        display: none;
        fill: #1967D2;
        height: 32px;
        padding: 0 0 0 0;
        width: 32px;
      }

      .colab-df-generate:hover {
        background-color: #E2EBFA;
        box-shadow: 0px 1px 2px rgba(60, 64, 67, 0.3), 0px 1px 3px 1px rgba(60, 64, 67, 0.15);
        fill: #174EA6;
      }

      [theme=dark] .colab-df-generate {
        background-color: #3B4455;
        fill: #D2E3FC;
      }

      [theme=dark] .colab-df-generate:hover {
        background-color: #434B5C;
        box-shadow: 0px 1px 3px 1px rgba(0, 0, 0, 0.15);
        filter: drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.3));
        fill: #FFFFFF;
      }
    </style>
    <button class="colab-df-generate" onclick="generateWithVariable('day2')"
            title="Generate code using this dataframe."
            style="display:none;">

  <svg xmlns="http://www.w3.org/2000/svg" height="24px"viewBox="0 0 24 24"
       width="24px">
    <path d="M7,19H8.4L18.45,9,17,7.55,7,17.6ZM5,21V16.75L18.45,3.32a2,2,0,0,1,2.83,0l1.4,1.43a1.91,1.91,0,0,1,.58,1.4,1.91,1.91,0,0,1-.58,1.4L9.25,21ZM18.45,9,17,7.55Zm-12,3A5.31,5.31,0,0,0,4.9,8.1,5.31,5.31,0,0,0,1,6.5,5.31,5.31,0,0,0,4.9,4.9,5.31,5.31,0,0,0,6.5,1,5.31,5.31,0,0,0,8.1,4.9,5.31,5.31,0,0,0,12,6.5,5.46,5.46,0,0,0,6.5,12Z"/>
  </svg>
    </button>
    <script>
      (() => {
      const buttonEl =
        document.querySelector('#id_ed387b16-0507-4614-ae5b-8ef3ad87524e button.colab-df-generate');
      buttonEl.style.display =
        google.colab.kernel.accessAllowed ? 'block' : 'none';

      buttonEl.onclick = () => {
        google.colab.notebook.generateWithVariable('day2');
      }
      })();
    </script>
  </div>

    </div>
  </div>
</div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">day3</span> <span class="o">=</span> <span class="n">day3</span><span class="o">.</span><span class="n">drop</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;date&#39;</span><span class="p">])</span>
<span class="n">n</span> <span class="o">=</span> <span class="mi">3</span>

<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="n">n</span> <span class="o">+</span> <span class="mi">1</span><span class="p">):</span>
    <span class="n">names</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;t</span><span class="si">{</span><span class="n">i</span><span class="si">}</span><span class="s2">&quot;</span>
    <span class="n">day3</span><span class="p">[</span><span class="n">names</span><span class="p">]</span> <span class="o">=</span> <span class="n">day3</span><span class="p">[</span><span class="s1">&#39;NO2&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">shift</span><span class="p">(</span><span class="n">i</span><span class="p">)</span>

<span class="n">day3</span> <span class="o">=</span> <span class="n">day3</span><span class="o">.</span><span class="n">dropna</span><span class="p">()</span><span class="o">.</span><span class="n">reset_index</span><span class="p">(</span><span class="n">drop</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="n">day3</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html">
  <div id="df-e8b6cf42-653f-4f25-9a8e-0acbad766a33" class="colab-df-container">
    <div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>feature_index</th>
      <th>NO2</th>
      <th>t1</th>
      <th>t2</th>
      <th>t3</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>0</td>
      <td>0.000066</td>
      <td>0.000063</td>
      <td>0.000104</td>
      <td>0.000104</td>
    </tr>
    <tr>
      <th>1</th>
      <td>0</td>
      <td>0.000158</td>
      <td>0.000066</td>
      <td>0.000063</td>
      <td>0.000104</td>
    </tr>
    <tr>
      <th>2</th>
      <td>0</td>
      <td>0.000261</td>
      <td>0.000158</td>
      <td>0.000066</td>
      <td>0.000063</td>
    </tr>
    <tr>
      <th>3</th>
      <td>0</td>
      <td>0.000087</td>
      <td>0.000261</td>
      <td>0.000158</td>
      <td>0.000066</td>
    </tr>
    <tr>
      <th>4</th>
      <td>0</td>
      <td>0.000056</td>
      <td>0.000087</td>
      <td>0.000261</td>
      <td>0.000158</td>
    </tr>
    <tr>
      <th>5</th>
      <td>0</td>
      <td>0.000039</td>
      <td>0.000056</td>
      <td>0.000087</td>
      <td>0.000261</td>
    </tr>
    <tr>
      <th>6</th>
      <td>0</td>
      <td>0.000032</td>
      <td>0.000039</td>
      <td>0.000056</td>
      <td>0.000087</td>
    </tr>
    <tr>
      <th>7</th>
      <td>0</td>
      <td>0.000051</td>
      <td>0.000032</td>
      <td>0.000039</td>
      <td>0.000056</td>
    </tr>
    <tr>
      <th>8</th>
      <td>0</td>
      <td>0.000069</td>
      <td>0.000051</td>
      <td>0.000032</td>
      <td>0.000039</td>
    </tr>
    <tr>
      <th>9</th>
      <td>0</td>
      <td>0.000087</td>
      <td>0.000069</td>
      <td>0.000051</td>
      <td>0.000032</td>
    </tr>
    <tr>
      <th>10</th>
      <td>0</td>
      <td>0.000104</td>
      <td>0.000087</td>
      <td>0.000069</td>
      <td>0.000051</td>
    </tr>
    <tr>
      <th>11</th>
      <td>0</td>
      <td>0.000060</td>
      <td>0.000104</td>
      <td>0.000087</td>
      <td>0.000069</td>
    </tr>
    <tr>
      <th>12</th>
      <td>0</td>
      <td>0.000077</td>
      <td>0.000060</td>
      <td>0.000104</td>
      <td>0.000087</td>
    </tr>
    <tr>
      <th>13</th>
      <td>0</td>
      <td>0.000051</td>
      <td>0.000077</td>
      <td>0.000060</td>
      <td>0.000104</td>
    </tr>
    <tr>
      <th>14</th>
      <td>0</td>
      <td>0.000071</td>
      <td>0.000051</td>
      <td>0.000077</td>
      <td>0.000060</td>
    </tr>
    <tr>
      <th>15</th>
      <td>0</td>
      <td>0.000110</td>
      <td>0.000071</td>
      <td>0.000051</td>
      <td>0.000077</td>
    </tr>
    <tr>
      <th>16</th>
      <td>0</td>
      <td>0.000087</td>
      <td>0.000110</td>
      <td>0.000071</td>
      <td>0.000051</td>
    </tr>
    <tr>
      <th>17</th>
      <td>0</td>
      <td>0.000140</td>
      <td>0.000087</td>
      <td>0.000110</td>
      <td>0.000071</td>
    </tr>
    <tr>
      <th>18</th>
      <td>0</td>
      <td>0.000133</td>
      <td>0.000140</td>
      <td>0.000087</td>
      <td>0.000110</td>
    </tr>
    <tr>
      <th>19</th>
      <td>0</td>
      <td>0.000065</td>
      <td>0.000133</td>
      <td>0.000140</td>
      <td>0.000087</td>
    </tr>
    <tr>
      <th>20</th>
      <td>0</td>
      <td>0.000023</td>
      <td>0.000065</td>
      <td>0.000133</td>
      <td>0.000140</td>
    </tr>
    <tr>
      <th>21</th>
      <td>0</td>
      <td>0.000019</td>
      <td>0.000023</td>
      <td>0.000065</td>
      <td>0.000133</td>
    </tr>
    <tr>
      <th>22</th>
      <td>0</td>
      <td>0.000059</td>
      <td>0.000019</td>
      <td>0.000023</td>
      <td>0.000065</td>
    </tr>
    <tr>
      <th>23</th>
      <td>0</td>
      <td>0.000061</td>
      <td>0.000059</td>
      <td>0.000019</td>
      <td>0.000023</td>
    </tr>
    <tr>
      <th>24</th>
      <td>0</td>
      <td>0.000068</td>
      <td>0.000061</td>
      <td>0.000059</td>
      <td>0.000019</td>
    </tr>
    <tr>
      <th>25</th>
      <td>0</td>
      <td>0.000053</td>
      <td>0.000068</td>
      <td>0.000061</td>
      <td>0.000059</td>
    </tr>
    <tr>
      <th>26</th>
      <td>0</td>
      <td>0.000048</td>
      <td>0.000053</td>
      <td>0.000068</td>
      <td>0.000061</td>
    </tr>
    <tr>
      <th>27</th>
      <td>0</td>
      <td>0.000044</td>
      <td>0.000048</td>
      <td>0.000053</td>
      <td>0.000068</td>
    </tr>
  </tbody>
</table>
</div>
    <div class="colab-df-buttons">

  <div class="colab-df-container">
    <button class="colab-df-convert" onclick="convertToInteractive('df-e8b6cf42-653f-4f25-9a8e-0acbad766a33')"
            title="Convert this dataframe to an interactive table."
            style="display:none;">

  <svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960">
    <path d="M120-120v-720h720v720H120Zm60-500h600v-160H180v160Zm220 220h160v-160H400v160Zm0 220h160v-160H400v160ZM180-400h160v-160H180v160Zm440 0h160v-160H620v160ZM180-180h160v-160H180v160Zm440 0h160v-160H620v160Z"/>
  </svg>
    </button>

  <style>
    .colab-df-container {
      display:flex;
      gap: 12px;
    }

    .colab-df-convert {
      background-color: #E8F0FE;
      border: none;
      border-radius: 50%;
      cursor: pointer;
      display: none;
      fill: #1967D2;
      height: 32px;
      padding: 0 0 0 0;
      width: 32px;
    }

    .colab-df-convert:hover {
      background-color: #E2EBFA;
      box-shadow: 0px 1px 2px rgba(60, 64, 67, 0.3), 0px 1px 3px 1px rgba(60, 64, 67, 0.15);
      fill: #174EA6;
    }

    .colab-df-buttons div {
      margin-bottom: 4px;
    }

    [theme=dark] .colab-df-convert {
      background-color: #3B4455;
      fill: #D2E3FC;
    }

    [theme=dark] .colab-df-convert:hover {
      background-color: #434B5C;
      box-shadow: 0px 1px 3px 1px rgba(0, 0, 0, 0.15);
      filter: drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.3));
      fill: #FFFFFF;
    }
  </style>

    <script>
      const buttonEl =
        document.querySelector('#df-e8b6cf42-653f-4f25-9a8e-0acbad766a33 button.colab-df-convert');
      buttonEl.style.display =
        google.colab.kernel.accessAllowed ? 'block' : 'none';

      async function convertToInteractive(key) {
        const element = document.querySelector('#df-e8b6cf42-653f-4f25-9a8e-0acbad766a33');
        const dataTable =
          await google.colab.kernel.invokeFunction('convertToInteractive',
                                                    [key], {});
        if (!dataTable) return;

        const docLinkHtml = 'Like what you see? Visit the ' +
          '<a target="_blank" href=https://colab.research.google.com/notebooks/data_table.ipynb>data table notebook</a>'
          + ' to learn more about interactive tables.';
        element.innerHTML = '';
        dataTable['output_type'] = 'display_data';
        await google.colab.output.renderOutput(dataTable, element);
        const docLink = document.createElement('div');
        docLink.innerHTML = docLinkHtml;
        element.appendChild(docLink);
      }
    </script>
  </div>


    <div id="df-77d9231d-a43e-456b-86af-e23c4ddbc84b">
      <button class="colab-df-quickchart" onclick="quickchart('df-77d9231d-a43e-456b-86af-e23c4ddbc84b')"
                title="Suggest charts"
                style="display:none;">

<svg xmlns="http://www.w3.org/2000/svg" height="24px"viewBox="0 0 24 24"
     width="24px">
    <g>
        <path d="M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zM9 17H7v-7h2v7zm4 0h-2V7h2v10zm4 0h-2v-4h2v4z"/>
    </g>
</svg>
      </button>

<style>
  .colab-df-quickchart {
      --bg-color: #E8F0FE;
      --fill-color: #1967D2;
      --hover-bg-color: #E2EBFA;
      --hover-fill-color: #174EA6;
      --disabled-fill-color: #AAA;
      --disabled-bg-color: #DDD;
  }

  [theme=dark] .colab-df-quickchart {
      --bg-color: #3B4455;
      --fill-color: #D2E3FC;
      --hover-bg-color: #434B5C;
      --hover-fill-color: #FFFFFF;
      --disabled-bg-color: #3B4455;
      --disabled-fill-color: #666;
  }

  .colab-df-quickchart {
    background-color: var(--bg-color);
    border: none;
    border-radius: 50%;
    cursor: pointer;
    display: none;
    fill: var(--fill-color);
    height: 32px;
    padding: 0;
    width: 32px;
  }

  .colab-df-quickchart:hover {
    background-color: var(--hover-bg-color);
    box-shadow: 0 1px 2px rgba(60, 64, 67, 0.3), 0 1px 3px 1px rgba(60, 64, 67, 0.15);
    fill: var(--button-hover-fill-color);
  }

  .colab-df-quickchart-complete:disabled,
  .colab-df-quickchart-complete:disabled:hover {
    background-color: var(--disabled-bg-color);
    fill: var(--disabled-fill-color);
    box-shadow: none;
  }

  .colab-df-spinner {
    border: 2px solid var(--fill-color);
    border-color: transparent;
    border-bottom-color: var(--fill-color);
    animation:
      spin 1s steps(1) infinite;
  }

  @keyframes spin {
    0% {
      border-color: transparent;
      border-bottom-color: var(--fill-color);
      border-left-color: var(--fill-color);
    }
    20% {
      border-color: transparent;
      border-left-color: var(--fill-color);
      border-top-color: var(--fill-color);
    }
    30% {
      border-color: transparent;
      border-left-color: var(--fill-color);
      border-top-color: var(--fill-color);
      border-right-color: var(--fill-color);
    }
    40% {
      border-color: transparent;
      border-right-color: var(--fill-color);
      border-top-color: var(--fill-color);
    }
    60% {
      border-color: transparent;
      border-right-color: var(--fill-color);
    }
    80% {
      border-color: transparent;
      border-right-color: var(--fill-color);
      border-bottom-color: var(--fill-color);
    }
    90% {
      border-color: transparent;
      border-bottom-color: var(--fill-color);
    }
  }
</style>

      <script>
        async function quickchart(key) {
          const quickchartButtonEl =
            document.querySelector('#' + key + ' button');
          quickchartButtonEl.disabled = true;  // To prevent multiple clicks.
          quickchartButtonEl.classList.add('colab-df-spinner');
          try {
            const charts = await google.colab.kernel.invokeFunction(
                'suggestCharts', [key], {});
          } catch (error) {
            console.error('Error during call to suggestCharts:', error);
          }
          quickchartButtonEl.classList.remove('colab-df-spinner');
          quickchartButtonEl.classList.add('colab-df-quickchart-complete');
        }
        (() => {
          let quickchartButtonEl =
            document.querySelector('#df-77d9231d-a43e-456b-86af-e23c4ddbc84b button');
          quickchartButtonEl.style.display =
            google.colab.kernel.accessAllowed ? 'block' : 'none';
        })();
      </script>
    </div>

  <div id="id_f1c53362-fa1f-4f3d-b26f-a252281e0de3">
    <style>
      .colab-df-generate {
        background-color: #E8F0FE;
        border: none;
        border-radius: 50%;
        cursor: pointer;
        display: none;
        fill: #1967D2;
        height: 32px;
        padding: 0 0 0 0;
        width: 32px;
      }

      .colab-df-generate:hover {
        background-color: #E2EBFA;
        box-shadow: 0px 1px 2px rgba(60, 64, 67, 0.3), 0px 1px 3px 1px rgba(60, 64, 67, 0.15);
        fill: #174EA6;
      }

      [theme=dark] .colab-df-generate {
        background-color: #3B4455;
        fill: #D2E3FC;
      }

      [theme=dark] .colab-df-generate:hover {
        background-color: #434B5C;
        box-shadow: 0px 1px 3px 1px rgba(0, 0, 0, 0.15);
        filter: drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.3));
        fill: #FFFFFF;
      }
    </style>
    <button class="colab-df-generate" onclick="generateWithVariable('day3')"
            title="Generate code using this dataframe."
            style="display:none;">

  <svg xmlns="http://www.w3.org/2000/svg" height="24px"viewBox="0 0 24 24"
       width="24px">
    <path d="M7,19H8.4L18.45,9,17,7.55,7,17.6ZM5,21V16.75L18.45,3.32a2,2,0,0,1,2.83,0l1.4,1.43a1.91,1.91,0,0,1,.58,1.4,1.91,1.91,0,0,1-.58,1.4L9.25,21ZM18.45,9,17,7.55Zm-12,3A5.31,5.31,0,0,0,4.9,8.1,5.31,5.31,0,0,0,1,6.5,5.31,5.31,0,0,0,4.9,4.9,5.31,5.31,0,0,0,6.5,1,5.31,5.31,0,0,0,8.1,4.9,5.31,5.31,0,0,0,12,6.5,5.46,5.46,0,0,0,6.5,12Z"/>
  </svg>
    </button>
    <script>
      (() => {
      const buttonEl =
        document.querySelector('#id_f1c53362-fa1f-4f3d-b26f-a252281e0de3 button.colab-df-generate');
      buttonEl.style.display =
        google.colab.kernel.accessAllowed ? 'block' : 'none';

      buttonEl.onclick = () => {
        google.colab.notebook.generateWithVariable('day3');
      }
      })();
    </script>
  </div>

    </div>
  </div>
</div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">day4</span> <span class="o">=</span> <span class="n">day4</span><span class="o">.</span><span class="n">drop</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;date&#39;</span><span class="p">])</span>
<span class="n">n</span> <span class="o">=</span> <span class="mi">4</span>

<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="n">n</span> <span class="o">+</span> <span class="mi">1</span><span class="p">):</span>
    <span class="n">names</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;t</span><span class="si">{</span><span class="n">i</span><span class="si">}</span><span class="s2">&quot;</span>
    <span class="n">day4</span><span class="p">[</span><span class="n">names</span><span class="p">]</span> <span class="o">=</span> <span class="n">day4</span><span class="p">[</span><span class="s1">&#39;NO2&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">shift</span><span class="p">(</span><span class="n">i</span><span class="p">)</span>

<span class="n">day4</span> <span class="o">=</span> <span class="n">day4</span><span class="o">.</span><span class="n">dropna</span><span class="p">()</span><span class="o">.</span><span class="n">reset_index</span><span class="p">(</span><span class="n">drop</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="n">day4</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html">
  <div id="df-9aaf88ab-0d93-4bb6-a29e-b3af9cafeae0" class="colab-df-container">
    <div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>feature_index</th>
      <th>NO2</th>
      <th>t1</th>
      <th>t2</th>
      <th>t3</th>
      <th>t4</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>0</td>
      <td>0.000158</td>
      <td>0.000066</td>
      <td>0.000063</td>
      <td>0.000104</td>
      <td>0.000104</td>
    </tr>
    <tr>
      <th>1</th>
      <td>0</td>
      <td>0.000261</td>
      <td>0.000158</td>
      <td>0.000066</td>
      <td>0.000063</td>
      <td>0.000104</td>
    </tr>
    <tr>
      <th>2</th>
      <td>0</td>
      <td>0.000087</td>
      <td>0.000261</td>
      <td>0.000158</td>
      <td>0.000066</td>
      <td>0.000063</td>
    </tr>
    <tr>
      <th>3</th>
      <td>0</td>
      <td>0.000056</td>
      <td>0.000087</td>
      <td>0.000261</td>
      <td>0.000158</td>
      <td>0.000066</td>
    </tr>
    <tr>
      <th>4</th>
      <td>0</td>
      <td>0.000039</td>
      <td>0.000056</td>
      <td>0.000087</td>
      <td>0.000261</td>
      <td>0.000158</td>
    </tr>
    <tr>
      <th>5</th>
      <td>0</td>
      <td>0.000032</td>
      <td>0.000039</td>
      <td>0.000056</td>
      <td>0.000087</td>
      <td>0.000261</td>
    </tr>
    <tr>
      <th>6</th>
      <td>0</td>
      <td>0.000051</td>
      <td>0.000032</td>
      <td>0.000039</td>
      <td>0.000056</td>
      <td>0.000087</td>
    </tr>
    <tr>
      <th>7</th>
      <td>0</td>
      <td>0.000069</td>
      <td>0.000051</td>
      <td>0.000032</td>
      <td>0.000039</td>
      <td>0.000056</td>
    </tr>
    <tr>
      <th>8</th>
      <td>0</td>
      <td>0.000087</td>
      <td>0.000069</td>
      <td>0.000051</td>
      <td>0.000032</td>
      <td>0.000039</td>
    </tr>
    <tr>
      <th>9</th>
      <td>0</td>
      <td>0.000104</td>
      <td>0.000087</td>
      <td>0.000069</td>
      <td>0.000051</td>
      <td>0.000032</td>
    </tr>
    <tr>
      <th>10</th>
      <td>0</td>
      <td>0.000060</td>
      <td>0.000104</td>
      <td>0.000087</td>
      <td>0.000069</td>
      <td>0.000051</td>
    </tr>
    <tr>
      <th>11</th>
      <td>0</td>
      <td>0.000077</td>
      <td>0.000060</td>
      <td>0.000104</td>
      <td>0.000087</td>
      <td>0.000069</td>
    </tr>
    <tr>
      <th>12</th>
      <td>0</td>
      <td>0.000051</td>
      <td>0.000077</td>
      <td>0.000060</td>
      <td>0.000104</td>
      <td>0.000087</td>
    </tr>
    <tr>
      <th>13</th>
      <td>0</td>
      <td>0.000071</td>
      <td>0.000051</td>
      <td>0.000077</td>
      <td>0.000060</td>
      <td>0.000104</td>
    </tr>
    <tr>
      <th>14</th>
      <td>0</td>
      <td>0.000110</td>
      <td>0.000071</td>
      <td>0.000051</td>
      <td>0.000077</td>
      <td>0.000060</td>
    </tr>
    <tr>
      <th>15</th>
      <td>0</td>
      <td>0.000087</td>
      <td>0.000110</td>
      <td>0.000071</td>
      <td>0.000051</td>
      <td>0.000077</td>
    </tr>
    <tr>
      <th>16</th>
      <td>0</td>
      <td>0.000140</td>
      <td>0.000087</td>
      <td>0.000110</td>
      <td>0.000071</td>
      <td>0.000051</td>
    </tr>
    <tr>
      <th>17</th>
      <td>0</td>
      <td>0.000133</td>
      <td>0.000140</td>
      <td>0.000087</td>
      <td>0.000110</td>
      <td>0.000071</td>
    </tr>
    <tr>
      <th>18</th>
      <td>0</td>
      <td>0.000065</td>
      <td>0.000133</td>
      <td>0.000140</td>
      <td>0.000087</td>
      <td>0.000110</td>
    </tr>
    <tr>
      <th>19</th>
      <td>0</td>
      <td>0.000023</td>
      <td>0.000065</td>
      <td>0.000133</td>
      <td>0.000140</td>
      <td>0.000087</td>
    </tr>
    <tr>
      <th>20</th>
      <td>0</td>
      <td>0.000019</td>
      <td>0.000023</td>
      <td>0.000065</td>
      <td>0.000133</td>
      <td>0.000140</td>
    </tr>
    <tr>
      <th>21</th>
      <td>0</td>
      <td>0.000059</td>
      <td>0.000019</td>
      <td>0.000023</td>
      <td>0.000065</td>
      <td>0.000133</td>
    </tr>
    <tr>
      <th>22</th>
      <td>0</td>
      <td>0.000061</td>
      <td>0.000059</td>
      <td>0.000019</td>
      <td>0.000023</td>
      <td>0.000065</td>
    </tr>
    <tr>
      <th>23</th>
      <td>0</td>
      <td>0.000068</td>
      <td>0.000061</td>
      <td>0.000059</td>
      <td>0.000019</td>
      <td>0.000023</td>
    </tr>
    <tr>
      <th>24</th>
      <td>0</td>
      <td>0.000053</td>
      <td>0.000068</td>
      <td>0.000061</td>
      <td>0.000059</td>
      <td>0.000019</td>
    </tr>
    <tr>
      <th>25</th>
      <td>0</td>
      <td>0.000048</td>
      <td>0.000053</td>
      <td>0.000068</td>
      <td>0.000061</td>
      <td>0.000059</td>
    </tr>
    <tr>
      <th>26</th>
      <td>0</td>
      <td>0.000044</td>
      <td>0.000048</td>
      <td>0.000053</td>
      <td>0.000068</td>
      <td>0.000061</td>
    </tr>
  </tbody>
</table>
</div>
    <div class="colab-df-buttons">

  <div class="colab-df-container">
    <button class="colab-df-convert" onclick="convertToInteractive('df-9aaf88ab-0d93-4bb6-a29e-b3af9cafeae0')"
            title="Convert this dataframe to an interactive table."
            style="display:none;">

  <svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960">
    <path d="M120-120v-720h720v720H120Zm60-500h600v-160H180v160Zm220 220h160v-160H400v160Zm0 220h160v-160H400v160ZM180-400h160v-160H180v160Zm440 0h160v-160H620v160ZM180-180h160v-160H180v160Zm440 0h160v-160H620v160Z"/>
  </svg>
    </button>

  <style>
    .colab-df-container {
      display:flex;
      gap: 12px;
    }

    .colab-df-convert {
      background-color: #E8F0FE;
      border: none;
      border-radius: 50%;
      cursor: pointer;
      display: none;
      fill: #1967D2;
      height: 32px;
      padding: 0 0 0 0;
      width: 32px;
    }

    .colab-df-convert:hover {
      background-color: #E2EBFA;
      box-shadow: 0px 1px 2px rgba(60, 64, 67, 0.3), 0px 1px 3px 1px rgba(60, 64, 67, 0.15);
      fill: #174EA6;
    }

    .colab-df-buttons div {
      margin-bottom: 4px;
    }

    [theme=dark] .colab-df-convert {
      background-color: #3B4455;
      fill: #D2E3FC;
    }

    [theme=dark] .colab-df-convert:hover {
      background-color: #434B5C;
      box-shadow: 0px 1px 3px 1px rgba(0, 0, 0, 0.15);
      filter: drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.3));
      fill: #FFFFFF;
    }
  </style>

    <script>
      const buttonEl =
        document.querySelector('#df-9aaf88ab-0d93-4bb6-a29e-b3af9cafeae0 button.colab-df-convert');
      buttonEl.style.display =
        google.colab.kernel.accessAllowed ? 'block' : 'none';

      async function convertToInteractive(key) {
        const element = document.querySelector('#df-9aaf88ab-0d93-4bb6-a29e-b3af9cafeae0');
        const dataTable =
          await google.colab.kernel.invokeFunction('convertToInteractive',
                                                    [key], {});
        if (!dataTable) return;

        const docLinkHtml = 'Like what you see? Visit the ' +
          '<a target="_blank" href=https://colab.research.google.com/notebooks/data_table.ipynb>data table notebook</a>'
          + ' to learn more about interactive tables.';
        element.innerHTML = '';
        dataTable['output_type'] = 'display_data';
        await google.colab.output.renderOutput(dataTable, element);
        const docLink = document.createElement('div');
        docLink.innerHTML = docLinkHtml;
        element.appendChild(docLink);
      }
    </script>
  </div>


    <div id="df-bfc773da-87cb-484e-ad6e-70d5d283e625">
      <button class="colab-df-quickchart" onclick="quickchart('df-bfc773da-87cb-484e-ad6e-70d5d283e625')"
                title="Suggest charts"
                style="display:none;">

<svg xmlns="http://www.w3.org/2000/svg" height="24px"viewBox="0 0 24 24"
     width="24px">
    <g>
        <path d="M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zM9 17H7v-7h2v7zm4 0h-2V7h2v10zm4 0h-2v-4h2v4z"/>
    </g>
</svg>
      </button>

<style>
  .colab-df-quickchart {
      --bg-color: #E8F0FE;
      --fill-color: #1967D2;
      --hover-bg-color: #E2EBFA;
      --hover-fill-color: #174EA6;
      --disabled-fill-color: #AAA;
      --disabled-bg-color: #DDD;
  }

  [theme=dark] .colab-df-quickchart {
      --bg-color: #3B4455;
      --fill-color: #D2E3FC;
      --hover-bg-color: #434B5C;
      --hover-fill-color: #FFFFFF;
      --disabled-bg-color: #3B4455;
      --disabled-fill-color: #666;
  }

  .colab-df-quickchart {
    background-color: var(--bg-color);
    border: none;
    border-radius: 50%;
    cursor: pointer;
    display: none;
    fill: var(--fill-color);
    height: 32px;
    padding: 0;
    width: 32px;
  }

  .colab-df-quickchart:hover {
    background-color: var(--hover-bg-color);
    box-shadow: 0 1px 2px rgba(60, 64, 67, 0.3), 0 1px 3px 1px rgba(60, 64, 67, 0.15);
    fill: var(--button-hover-fill-color);
  }

  .colab-df-quickchart-complete:disabled,
  .colab-df-quickchart-complete:disabled:hover {
    background-color: var(--disabled-bg-color);
    fill: var(--disabled-fill-color);
    box-shadow: none;
  }

  .colab-df-spinner {
    border: 2px solid var(--fill-color);
    border-color: transparent;
    border-bottom-color: var(--fill-color);
    animation:
      spin 1s steps(1) infinite;
  }

  @keyframes spin {
    0% {
      border-color: transparent;
      border-bottom-color: var(--fill-color);
      border-left-color: var(--fill-color);
    }
    20% {
      border-color: transparent;
      border-left-color: var(--fill-color);
      border-top-color: var(--fill-color);
    }
    30% {
      border-color: transparent;
      border-left-color: var(--fill-color);
      border-top-color: var(--fill-color);
      border-right-color: var(--fill-color);
    }
    40% {
      border-color: transparent;
      border-right-color: var(--fill-color);
      border-top-color: var(--fill-color);
    }
    60% {
      border-color: transparent;
      border-right-color: var(--fill-color);
    }
    80% {
      border-color: transparent;
      border-right-color: var(--fill-color);
      border-bottom-color: var(--fill-color);
    }
    90% {
      border-color: transparent;
      border-bottom-color: var(--fill-color);
    }
  }
</style>

      <script>
        async function quickchart(key) {
          const quickchartButtonEl =
            document.querySelector('#' + key + ' button');
          quickchartButtonEl.disabled = true;  // To prevent multiple clicks.
          quickchartButtonEl.classList.add('colab-df-spinner');
          try {
            const charts = await google.colab.kernel.invokeFunction(
                'suggestCharts', [key], {});
          } catch (error) {
            console.error('Error during call to suggestCharts:', error);
          }
          quickchartButtonEl.classList.remove('colab-df-spinner');
          quickchartButtonEl.classList.add('colab-df-quickchart-complete');
        }
        (() => {
          let quickchartButtonEl =
            document.querySelector('#df-bfc773da-87cb-484e-ad6e-70d5d283e625 button');
          quickchartButtonEl.style.display =
            google.colab.kernel.accessAllowed ? 'block' : 'none';
        })();
      </script>
    </div>

  <div id="id_deef5b71-ccac-4501-87cd-e1f110532c02">
    <style>
      .colab-df-generate {
        background-color: #E8F0FE;
        border: none;
        border-radius: 50%;
        cursor: pointer;
        display: none;
        fill: #1967D2;
        height: 32px;
        padding: 0 0 0 0;
        width: 32px;
      }

      .colab-df-generate:hover {
        background-color: #E2EBFA;
        box-shadow: 0px 1px 2px rgba(60, 64, 67, 0.3), 0px 1px 3px 1px rgba(60, 64, 67, 0.15);
        fill: #174EA6;
      }

      [theme=dark] .colab-df-generate {
        background-color: #3B4455;
        fill: #D2E3FC;
      }

      [theme=dark] .colab-df-generate:hover {
        background-color: #434B5C;
        box-shadow: 0px 1px 3px 1px rgba(0, 0, 0, 0.15);
        filter: drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.3));
        fill: #FFFFFF;
      }
    </style>
    <button class="colab-df-generate" onclick="generateWithVariable('day4')"
            title="Generate code using this dataframe."
            style="display:none;">

  <svg xmlns="http://www.w3.org/2000/svg" height="24px"viewBox="0 0 24 24"
       width="24px">
    <path d="M7,19H8.4L18.45,9,17,7.55,7,17.6ZM5,21V16.75L18.45,3.32a2,2,0,0,1,2.83,0l1.4,1.43a1.91,1.91,0,0,1,.58,1.4,1.91,1.91,0,0,1-.58,1.4L9.25,21ZM18.45,9,17,7.55Zm-12,3A5.31,5.31,0,0,0,4.9,8.1,5.31,5.31,0,0,0,1,6.5,5.31,5.31,0,0,0,4.9,4.9,5.31,5.31,0,0,0,6.5,1,5.31,5.31,0,0,0,8.1,4.9,5.31,5.31,0,0,0,12,6.5,5.46,5.46,0,0,0,6.5,12Z"/>
  </svg>
    </button>
    <script>
      (() => {
      const buttonEl =
        document.querySelector('#id_deef5b71-ccac-4501-87cd-e1f110532c02 button.colab-df-generate');
      buttonEl.style.display =
        google.colab.kernel.accessAllowed ? 'block' : 'none';

      buttonEl.onclick = () => {
        google.colab.notebook.generateWithVariable('day4');
      }
      })();
    </script>
  </div>

    </div>
  </div>
</div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">day5</span> <span class="o">=</span> <span class="n">day5</span><span class="o">.</span><span class="n">drop</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;date&#39;</span><span class="p">])</span>
<span class="c1"># new_df</span>
<span class="n">n</span> <span class="o">=</span> <span class="mi">5</span>

<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="n">n</span> <span class="o">+</span> <span class="mi">1</span><span class="p">):</span>
    <span class="n">names</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;t</span><span class="si">{</span><span class="n">i</span><span class="si">}</span><span class="s2">&quot;</span>
    <span class="n">day5</span><span class="p">[</span><span class="n">names</span><span class="p">]</span> <span class="o">=</span> <span class="n">day5</span><span class="p">[</span><span class="s1">&#39;NO2&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">shift</span><span class="p">(</span><span class="n">i</span><span class="p">)</span>

<span class="n">day5</span> <span class="o">=</span> <span class="n">day5</span><span class="o">.</span><span class="n">dropna</span><span class="p">()</span><span class="o">.</span><span class="n">reset_index</span><span class="p">(</span><span class="n">drop</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="n">day5</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html">
  <div id="df-63ecb7ab-0acb-4ba0-9408-b3afc9909488" class="colab-df-container">
    <div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>feature_index</th>
      <th>NO2</th>
      <th>t1</th>
      <th>t2</th>
      <th>t3</th>
      <th>t4</th>
      <th>t5</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>0</td>
      <td>0.000261</td>
      <td>0.000158</td>
      <td>0.000066</td>
      <td>0.000063</td>
      <td>0.000104</td>
      <td>0.000104</td>
    </tr>
    <tr>
      <th>1</th>
      <td>0</td>
      <td>0.000087</td>
      <td>0.000261</td>
      <td>0.000158</td>
      <td>0.000066</td>
      <td>0.000063</td>
      <td>0.000104</td>
    </tr>
    <tr>
      <th>2</th>
      <td>0</td>
      <td>0.000056</td>
      <td>0.000087</td>
      <td>0.000261</td>
      <td>0.000158</td>
      <td>0.000066</td>
      <td>0.000063</td>
    </tr>
    <tr>
      <th>3</th>
      <td>0</td>
      <td>0.000039</td>
      <td>0.000056</td>
      <td>0.000087</td>
      <td>0.000261</td>
      <td>0.000158</td>
      <td>0.000066</td>
    </tr>
    <tr>
      <th>4</th>
      <td>0</td>
      <td>0.000032</td>
      <td>0.000039</td>
      <td>0.000056</td>
      <td>0.000087</td>
      <td>0.000261</td>
      <td>0.000158</td>
    </tr>
    <tr>
      <th>5</th>
      <td>0</td>
      <td>0.000051</td>
      <td>0.000032</td>
      <td>0.000039</td>
      <td>0.000056</td>
      <td>0.000087</td>
      <td>0.000261</td>
    </tr>
    <tr>
      <th>6</th>
      <td>0</td>
      <td>0.000069</td>
      <td>0.000051</td>
      <td>0.000032</td>
      <td>0.000039</td>
      <td>0.000056</td>
      <td>0.000087</td>
    </tr>
    <tr>
      <th>7</th>
      <td>0</td>
      <td>0.000087</td>
      <td>0.000069</td>
      <td>0.000051</td>
      <td>0.000032</td>
      <td>0.000039</td>
      <td>0.000056</td>
    </tr>
    <tr>
      <th>8</th>
      <td>0</td>
      <td>0.000104</td>
      <td>0.000087</td>
      <td>0.000069</td>
      <td>0.000051</td>
      <td>0.000032</td>
      <td>0.000039</td>
    </tr>
    <tr>
      <th>9</th>
      <td>0</td>
      <td>0.000060</td>
      <td>0.000104</td>
      <td>0.000087</td>
      <td>0.000069</td>
      <td>0.000051</td>
      <td>0.000032</td>
    </tr>
    <tr>
      <th>10</th>
      <td>0</td>
      <td>0.000077</td>
      <td>0.000060</td>
      <td>0.000104</td>
      <td>0.000087</td>
      <td>0.000069</td>
      <td>0.000051</td>
    </tr>
    <tr>
      <th>11</th>
      <td>0</td>
      <td>0.000051</td>
      <td>0.000077</td>
      <td>0.000060</td>
      <td>0.000104</td>
      <td>0.000087</td>
      <td>0.000069</td>
    </tr>
    <tr>
      <th>12</th>
      <td>0</td>
      <td>0.000071</td>
      <td>0.000051</td>
      <td>0.000077</td>
      <td>0.000060</td>
      <td>0.000104</td>
      <td>0.000087</td>
    </tr>
    <tr>
      <th>13</th>
      <td>0</td>
      <td>0.000110</td>
      <td>0.000071</td>
      <td>0.000051</td>
      <td>0.000077</td>
      <td>0.000060</td>
      <td>0.000104</td>
    </tr>
    <tr>
      <th>14</th>
      <td>0</td>
      <td>0.000087</td>
      <td>0.000110</td>
      <td>0.000071</td>
      <td>0.000051</td>
      <td>0.000077</td>
      <td>0.000060</td>
    </tr>
    <tr>
      <th>15</th>
      <td>0</td>
      <td>0.000140</td>
      <td>0.000087</td>
      <td>0.000110</td>
      <td>0.000071</td>
      <td>0.000051</td>
      <td>0.000077</td>
    </tr>
    <tr>
      <th>16</th>
      <td>0</td>
      <td>0.000133</td>
      <td>0.000140</td>
      <td>0.000087</td>
      <td>0.000110</td>
      <td>0.000071</td>
      <td>0.000051</td>
    </tr>
    <tr>
      <th>17</th>
      <td>0</td>
      <td>0.000065</td>
      <td>0.000133</td>
      <td>0.000140</td>
      <td>0.000087</td>
      <td>0.000110</td>
      <td>0.000071</td>
    </tr>
    <tr>
      <th>18</th>
      <td>0</td>
      <td>0.000023</td>
      <td>0.000065</td>
      <td>0.000133</td>
      <td>0.000140</td>
      <td>0.000087</td>
      <td>0.000110</td>
    </tr>
    <tr>
      <th>19</th>
      <td>0</td>
      <td>0.000019</td>
      <td>0.000023</td>
      <td>0.000065</td>
      <td>0.000133</td>
      <td>0.000140</td>
      <td>0.000087</td>
    </tr>
    <tr>
      <th>20</th>
      <td>0</td>
      <td>0.000059</td>
      <td>0.000019</td>
      <td>0.000023</td>
      <td>0.000065</td>
      <td>0.000133</td>
      <td>0.000140</td>
    </tr>
    <tr>
      <th>21</th>
      <td>0</td>
      <td>0.000061</td>
      <td>0.000059</td>
      <td>0.000019</td>
      <td>0.000023</td>
      <td>0.000065</td>
      <td>0.000133</td>
    </tr>
    <tr>
      <th>22</th>
      <td>0</td>
      <td>0.000068</td>
      <td>0.000061</td>
      <td>0.000059</td>
      <td>0.000019</td>
      <td>0.000023</td>
      <td>0.000065</td>
    </tr>
    <tr>
      <th>23</th>
      <td>0</td>
      <td>0.000053</td>
      <td>0.000068</td>
      <td>0.000061</td>
      <td>0.000059</td>
      <td>0.000019</td>
      <td>0.000023</td>
    </tr>
    <tr>
      <th>24</th>
      <td>0</td>
      <td>0.000048</td>
      <td>0.000053</td>
      <td>0.000068</td>
      <td>0.000061</td>
      <td>0.000059</td>
      <td>0.000019</td>
    </tr>
    <tr>
      <th>25</th>
      <td>0</td>
      <td>0.000044</td>
      <td>0.000048</td>
      <td>0.000053</td>
      <td>0.000068</td>
      <td>0.000061</td>
      <td>0.000059</td>
    </tr>
  </tbody>
</table>
</div>
    <div class="colab-df-buttons">

  <div class="colab-df-container">
    <button class="colab-df-convert" onclick="convertToInteractive('df-63ecb7ab-0acb-4ba0-9408-b3afc9909488')"
            title="Convert this dataframe to an interactive table."
            style="display:none;">

  <svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960">
    <path d="M120-120v-720h720v720H120Zm60-500h600v-160H180v160Zm220 220h160v-160H400v160Zm0 220h160v-160H400v160ZM180-400h160v-160H180v160Zm440 0h160v-160H620v160ZM180-180h160v-160H180v160Zm440 0h160v-160H620v160Z"/>
  </svg>
    </button>

  <style>
    .colab-df-container {
      display:flex;
      gap: 12px;
    }

    .colab-df-convert {
      background-color: #E8F0FE;
      border: none;
      border-radius: 50%;
      cursor: pointer;
      display: none;
      fill: #1967D2;
      height: 32px;
      padding: 0 0 0 0;
      width: 32px;
    }

    .colab-df-convert:hover {
      background-color: #E2EBFA;
      box-shadow: 0px 1px 2px rgba(60, 64, 67, 0.3), 0px 1px 3px 1px rgba(60, 64, 67, 0.15);
      fill: #174EA6;
    }

    .colab-df-buttons div {
      margin-bottom: 4px;
    }

    [theme=dark] .colab-df-convert {
      background-color: #3B4455;
      fill: #D2E3FC;
    }

    [theme=dark] .colab-df-convert:hover {
      background-color: #434B5C;
      box-shadow: 0px 1px 3px 1px rgba(0, 0, 0, 0.15);
      filter: drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.3));
      fill: #FFFFFF;
    }
  </style>

    <script>
      const buttonEl =
        document.querySelector('#df-63ecb7ab-0acb-4ba0-9408-b3afc9909488 button.colab-df-convert');
      buttonEl.style.display =
        google.colab.kernel.accessAllowed ? 'block' : 'none';

      async function convertToInteractive(key) {
        const element = document.querySelector('#df-63ecb7ab-0acb-4ba0-9408-b3afc9909488');
        const dataTable =
          await google.colab.kernel.invokeFunction('convertToInteractive',
                                                    [key], {});
        if (!dataTable) return;

        const docLinkHtml = 'Like what you see? Visit the ' +
          '<a target="_blank" href=https://colab.research.google.com/notebooks/data_table.ipynb>data table notebook</a>'
          + ' to learn more about interactive tables.';
        element.innerHTML = '';
        dataTable['output_type'] = 'display_data';
        await google.colab.output.renderOutput(dataTable, element);
        const docLink = document.createElement('div');
        docLink.innerHTML = docLinkHtml;
        element.appendChild(docLink);
      }
    </script>
  </div>


    <div id="df-5dd6664b-f86b-40f0-a7da-3fcbeea02ef3">
      <button class="colab-df-quickchart" onclick="quickchart('df-5dd6664b-f86b-40f0-a7da-3fcbeea02ef3')"
                title="Suggest charts"
                style="display:none;">

<svg xmlns="http://www.w3.org/2000/svg" height="24px"viewBox="0 0 24 24"
     width="24px">
    <g>
        <path d="M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zM9 17H7v-7h2v7zm4 0h-2V7h2v10zm4 0h-2v-4h2v4z"/>
    </g>
</svg>
      </button>

<style>
  .colab-df-quickchart {
      --bg-color: #E8F0FE;
      --fill-color: #1967D2;
      --hover-bg-color: #E2EBFA;
      --hover-fill-color: #174EA6;
      --disabled-fill-color: #AAA;
      --disabled-bg-color: #DDD;
  }

  [theme=dark] .colab-df-quickchart {
      --bg-color: #3B4455;
      --fill-color: #D2E3FC;
      --hover-bg-color: #434B5C;
      --hover-fill-color: #FFFFFF;
      --disabled-bg-color: #3B4455;
      --disabled-fill-color: #666;
  }

  .colab-df-quickchart {
    background-color: var(--bg-color);
    border: none;
    border-radius: 50%;
    cursor: pointer;
    display: none;
    fill: var(--fill-color);
    height: 32px;
    padding: 0;
    width: 32px;
  }

  .colab-df-quickchart:hover {
    background-color: var(--hover-bg-color);
    box-shadow: 0 1px 2px rgba(60, 64, 67, 0.3), 0 1px 3px 1px rgba(60, 64, 67, 0.15);
    fill: var(--button-hover-fill-color);
  }

  .colab-df-quickchart-complete:disabled,
  .colab-df-quickchart-complete:disabled:hover {
    background-color: var(--disabled-bg-color);
    fill: var(--disabled-fill-color);
    box-shadow: none;
  }

  .colab-df-spinner {
    border: 2px solid var(--fill-color);
    border-color: transparent;
    border-bottom-color: var(--fill-color);
    animation:
      spin 1s steps(1) infinite;
  }

  @keyframes spin {
    0% {
      border-color: transparent;
      border-bottom-color: var(--fill-color);
      border-left-color: var(--fill-color);
    }
    20% {
      border-color: transparent;
      border-left-color: var(--fill-color);
      border-top-color: var(--fill-color);
    }
    30% {
      border-color: transparent;
      border-left-color: var(--fill-color);
      border-top-color: var(--fill-color);
      border-right-color: var(--fill-color);
    }
    40% {
      border-color: transparent;
      border-right-color: var(--fill-color);
      border-top-color: var(--fill-color);
    }
    60% {
      border-color: transparent;
      border-right-color: var(--fill-color);
    }
    80% {
      border-color: transparent;
      border-right-color: var(--fill-color);
      border-bottom-color: var(--fill-color);
    }
    90% {
      border-color: transparent;
      border-bottom-color: var(--fill-color);
    }
  }
</style>

      <script>
        async function quickchart(key) {
          const quickchartButtonEl =
            document.querySelector('#' + key + ' button');
          quickchartButtonEl.disabled = true;  // To prevent multiple clicks.
          quickchartButtonEl.classList.add('colab-df-spinner');
          try {
            const charts = await google.colab.kernel.invokeFunction(
                'suggestCharts', [key], {});
          } catch (error) {
            console.error('Error during call to suggestCharts:', error);
          }
          quickchartButtonEl.classList.remove('colab-df-spinner');
          quickchartButtonEl.classList.add('colab-df-quickchart-complete');
        }
        (() => {
          let quickchartButtonEl =
            document.querySelector('#df-5dd6664b-f86b-40f0-a7da-3fcbeea02ef3 button');
          quickchartButtonEl.style.display =
            google.colab.kernel.accessAllowed ? 'block' : 'none';
        })();
      </script>
    </div>

  <div id="id_ca449d5e-ed38-438d-b5d8-61ea954a94b1">
    <style>
      .colab-df-generate {
        background-color: #E8F0FE;
        border: none;
        border-radius: 50%;
        cursor: pointer;
        display: none;
        fill: #1967D2;
        height: 32px;
        padding: 0 0 0 0;
        width: 32px;
      }

      .colab-df-generate:hover {
        background-color: #E2EBFA;
        box-shadow: 0px 1px 2px rgba(60, 64, 67, 0.3), 0px 1px 3px 1px rgba(60, 64, 67, 0.15);
        fill: #174EA6;
      }

      [theme=dark] .colab-df-generate {
        background-color: #3B4455;
        fill: #D2E3FC;
      }

      [theme=dark] .colab-df-generate:hover {
        background-color: #434B5C;
        box-shadow: 0px 1px 3px 1px rgba(0, 0, 0, 0.15);
        filter: drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.3));
        fill: #FFFFFF;
      }
    </style>
    <button class="colab-df-generate" onclick="generateWithVariable('day5')"
            title="Generate code using this dataframe."
            style="display:none;">

  <svg xmlns="http://www.w3.org/2000/svg" height="24px"viewBox="0 0 24 24"
       width="24px">
    <path d="M7,19H8.4L18.45,9,17,7.55,7,17.6ZM5,21V16.75L18.45,3.32a2,2,0,0,1,2.83,0l1.4,1.43a1.91,1.91,0,0,1,.58,1.4,1.91,1.91,0,0,1-.58,1.4L9.25,21ZM18.45,9,17,7.55Zm-12,3A5.31,5.31,0,0,0,4.9,8.1,5.31,5.31,0,0,0,1,6.5,5.31,5.31,0,0,0,4.9,4.9,5.31,5.31,0,0,0,6.5,1,5.31,5.31,0,0,0,8.1,4.9,5.31,5.31,0,0,0,12,6.5,5.46,5.46,0,0,0,6.5,12Z"/>
  </svg>
    </button>
    <script>
      (() => {
      const buttonEl =
        document.querySelector('#id_ca449d5e-ed38-438d-b5d8-61ea954a94b1 button.colab-df-generate');
      buttonEl.style.display =
        google.colab.kernel.accessAllowed ? 'block' : 'none';

      buttonEl.onclick = () => {
        google.colab.notebook.generateWithVariable('day5');
      }
      })();
    </script>
  </div>

    </div>
  </div>
</div></div>
</div>
</section>
<section id="modelling">
<h2><strong>Modelling</strong><a class="headerlink" href="#modelling" title="Link to this heading">#</a></h2>
<p>modelling dilakukan untuk memprediksi kadar gas Nitrogen Dioksida (NO₂) di wilayah Gresik berdasarkan data 30 hari hasil pengamatan satelit Sentinel-5P.
Tujuan utamanya adalah melihat apakah data kadar NO₂ beberapa hari sebelumnya dapat digunakan untuk memperkirakan kadar NO₂ hari berikutnya.</p>
<p>Model yang digunakan adalah K-Nearest Neighbors Regression (KNN Regression).
KNN bekerja dengan cara mencari sejumlah titik data (tetangga terdekat) yang paling mirip dengan data yang ingin diprediksi, kemudian menghitung rata-ratanya untuk menghasilkan nilai prediksi.</p>
<section id="tujuan-modelling-lag-n-day">
<h3><strong>Tujuan Modelling Lag n Day</strong><a class="headerlink" href="#tujuan-modelling-lag-n-day" title="Link to this heading">#</a></h3>
<p>Untuk mengetahui berapa hari sebelumnya (lag) yang paling berpengaruh dalam memprediksi kadar NO₂ hari ini, dibuat beberapa model dengan variasi jumlah hari sebelumnya:</p>
<ul class="simple">
<li><p>Lag 2 Hari (day2) → menggunakan data 2 hari terakhir untuk memprediksi hari ke-3</p></li>
<li><p>Lag 3 Hari (day3) → menggunakan data 3 hari terakhir untuk memprediksi hari ke-4</p></li>
<li><p>Lag 4 Hari (day4) → menggunakan data 4 hari terakhir untuk memprediksi hari ke-5</p></li>
<li><p>Lag 5 Hari (day5) → menggunakan data 5 hari terakhir untuk memprediksi hari ke-6</p></li>
</ul>
<p>Setiap model dievaluasi menggunakan dua metrik:</p>
<ul class="simple">
<li><p>Mean Squared Error (MSE) → mengukur rata-rata kesalahan prediksi.</p></li>
<li><p>R² (R-squared) → menunjukkan seberapa baik model menjelaskan variasi data aktual.</p></li>
</ul>
</section>
<section id="modeling-forecasting-dengan-lag-2-hari">
<h3><strong>Modeling Forecasting dengan Lag 2 Hari</strong><a class="headerlink" href="#modeling-forecasting-dengan-lag-2-hari" title="Link to this heading">#</a></h3>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">X</span> <span class="o">=</span> <span class="n">day2</span><span class="o">.</span><span class="n">drop</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;NO2&#39;</span><span class="p">])</span>
<span class="n">y</span> <span class="o">=</span> <span class="n">day2</span><span class="p">[</span><span class="s1">&#39;NO2&#39;</span><span class="p">]</span>

<span class="n">X_train</span><span class="p">,</span> <span class="n">X_test</span><span class="p">,</span> <span class="n">y_train</span><span class="p">,</span> <span class="n">y_test</span> <span class="o">=</span> <span class="n">train_test_split</span><span class="p">(</span><span class="n">X</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">test_size</span><span class="o">=</span><span class="mf">0.2</span><span class="p">,</span> <span class="n">random_state</span><span class="o">=</span><span class="mi">42</span><span class="p">)</span>

<span class="n">scaler</span> <span class="o">=</span> <span class="n">StandardScaler</span><span class="p">()</span>
<span class="n">X_train_scaled</span> <span class="o">=</span> <span class="n">scaler</span><span class="o">.</span><span class="n">fit_transform</span><span class="p">(</span><span class="n">X_train</span><span class="p">)</span>
<span class="n">X_test_scaled</span> <span class="o">=</span> <span class="n">scaler</span><span class="o">.</span><span class="n">transform</span><span class="p">(</span><span class="n">X_test</span><span class="p">)</span>

<span class="n">knn</span> <span class="o">=</span> <span class="n">KNeighborsRegressor</span><span class="p">(</span><span class="n">n_neighbors</span><span class="o">=</span><span class="mi">5</span><span class="p">)</span>
<span class="n">knn</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">X_train_scaled</span><span class="p">,</span> <span class="n">y_train</span><span class="p">)</span>
<span class="n">day2_predict</span> <span class="o">=</span> <span class="n">knn</span><span class="o">.</span><span class="n">predict</span><span class="p">(</span><span class="n">X_test_scaled</span><span class="p">)</span>
<span class="n">r2_day2</span> <span class="o">=</span> <span class="n">r2_score</span><span class="p">(</span><span class="n">y_test</span><span class="p">,</span> <span class="n">day2_predict</span><span class="p">)</span>
<span class="n">mse_day2</span> <span class="o">=</span> <span class="n">mean_squared_error</span><span class="p">(</span><span class="n">y_test</span><span class="p">,</span> <span class="n">day2_predict</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;MSE:&quot;</span><span class="p">,</span> <span class="n">mse_day2</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;R2:&quot;</span><span class="p">,</span> <span class="n">r2_day2</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>MSE: 8.07299873047843e-10
R2: -0.08798093694835885
</pre></div>
</div>
</div>
</div>
</section>
<section id="modeling-forecasting-dengan-lag-3-hari">
<h3><strong>Modeling Forecasting dengan Lag 3 Hari</strong><a class="headerlink" href="#modeling-forecasting-dengan-lag-3-hari" title="Link to this heading">#</a></h3>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">X</span> <span class="o">=</span> <span class="n">day3</span><span class="o">.</span><span class="n">drop</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;NO2&#39;</span><span class="p">])</span>
<span class="n">y</span> <span class="o">=</span> <span class="n">day3</span><span class="p">[</span><span class="s1">&#39;NO2&#39;</span><span class="p">]</span>

<span class="n">X_train</span><span class="p">,</span> <span class="n">X_test</span><span class="p">,</span> <span class="n">y_train</span><span class="p">,</span> <span class="n">y_test</span> <span class="o">=</span> <span class="n">train_test_split</span><span class="p">(</span><span class="n">X</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">test_size</span><span class="o">=</span><span class="mf">0.2</span><span class="p">,</span> <span class="n">random_state</span><span class="o">=</span><span class="mi">42</span><span class="p">)</span>

<span class="n">scaler</span> <span class="o">=</span> <span class="n">StandardScaler</span><span class="p">()</span>
<span class="n">X_train_scaled</span> <span class="o">=</span> <span class="n">scaler</span><span class="o">.</span><span class="n">fit_transform</span><span class="p">(</span><span class="n">X_train</span><span class="p">)</span>
<span class="n">X_test_scaled</span> <span class="o">=</span> <span class="n">scaler</span><span class="o">.</span><span class="n">transform</span><span class="p">(</span><span class="n">X_test</span><span class="p">)</span>

<span class="n">knn</span> <span class="o">=</span> <span class="n">KNeighborsRegressor</span><span class="p">(</span><span class="n">n_neighbors</span><span class="o">=</span><span class="mi">5</span><span class="p">)</span>
<span class="n">knn</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">X_train_scaled</span><span class="p">,</span> <span class="n">y_train</span><span class="p">)</span>
<span class="n">day3_predict</span> <span class="o">=</span> <span class="n">knn</span><span class="o">.</span><span class="n">predict</span><span class="p">(</span><span class="n">X_test_scaled</span><span class="p">)</span>
<span class="n">r2_day3</span> <span class="o">=</span> <span class="n">r2_score</span><span class="p">(</span><span class="n">y_test</span><span class="p">,</span> <span class="n">day3_predict</span><span class="p">)</span>
<span class="n">mse_day3</span> <span class="o">=</span> <span class="n">mean_squared_error</span><span class="p">(</span><span class="n">y_test</span><span class="p">,</span> <span class="n">day3_predict</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;MSE:&quot;</span><span class="p">,</span> <span class="n">mse_day3</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;R2:&quot;</span><span class="p">,</span> <span class="n">r2_day3</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>MSE: 9.207340084977446e-10
R2: -0.943074737599265
</pre></div>
</div>
</div>
</div>
</section>
<section id="modeling-forecasting-dengan-lag-4-hari">
<h3><strong>Modeling Forecasting dengan Lag 4 Hari</strong><a class="headerlink" href="#modeling-forecasting-dengan-lag-4-hari" title="Link to this heading">#</a></h3>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">X</span> <span class="o">=</span> <span class="n">day4</span><span class="o">.</span><span class="n">drop</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;NO2&#39;</span><span class="p">])</span>
<span class="n">y</span> <span class="o">=</span> <span class="n">day4</span><span class="p">[</span><span class="s1">&#39;NO2&#39;</span><span class="p">]</span>

<span class="n">X_train</span><span class="p">,</span> <span class="n">X_test</span><span class="p">,</span> <span class="n">y_train</span><span class="p">,</span> <span class="n">y_test</span> <span class="o">=</span> <span class="n">train_test_split</span><span class="p">(</span><span class="n">X</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">test_size</span><span class="o">=</span><span class="mf">0.2</span><span class="p">,</span> <span class="n">random_state</span><span class="o">=</span><span class="mi">42</span><span class="p">)</span>

<span class="n">scaler</span> <span class="o">=</span> <span class="n">StandardScaler</span><span class="p">()</span>
<span class="n">X_train_scaled</span> <span class="o">=</span> <span class="n">scaler</span><span class="o">.</span><span class="n">fit_transform</span><span class="p">(</span><span class="n">X_train</span><span class="p">)</span>
<span class="n">X_test_scaled</span> <span class="o">=</span> <span class="n">scaler</span><span class="o">.</span><span class="n">transform</span><span class="p">(</span><span class="n">X_test</span><span class="p">)</span>

<span class="n">knn</span> <span class="o">=</span> <span class="n">KNeighborsRegressor</span><span class="p">(</span><span class="n">n_neighbors</span><span class="o">=</span><span class="mi">5</span><span class="p">)</span>
<span class="n">knn</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">X_train_scaled</span><span class="p">,</span> <span class="n">y_train</span><span class="p">)</span>
<span class="n">day4_predict</span> <span class="o">=</span> <span class="n">knn</span><span class="o">.</span><span class="n">predict</span><span class="p">(</span><span class="n">X_test_scaled</span><span class="p">)</span>
<span class="n">r2_day4</span> <span class="o">=</span> <span class="n">r2_score</span><span class="p">(</span><span class="n">y_test</span><span class="p">,</span> <span class="n">day4_predict</span><span class="p">)</span>
<span class="n">mse_day4</span> <span class="o">=</span> <span class="n">mean_squared_error</span><span class="p">(</span><span class="n">y_test</span><span class="p">,</span> <span class="n">day4_predict</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;MSE:&quot;</span><span class="p">,</span> <span class="n">mse_day4</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;R2:&quot;</span><span class="p">,</span> <span class="n">r2_day4</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>MSE: 2.1688795718579647e-09
R2: -1.0842952774629508
</pre></div>
</div>
</div>
</div>
</section>
<section id="modeling-forecasting-dengan-lag-5-hari">
<h3><strong>Modeling Forecasting dengan Lag 5 Hari</strong><a class="headerlink" href="#modeling-forecasting-dengan-lag-5-hari" title="Link to this heading">#</a></h3>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">X</span> <span class="o">=</span> <span class="n">day5</span><span class="o">.</span><span class="n">drop</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;NO2&#39;</span><span class="p">])</span>
<span class="n">y</span> <span class="o">=</span> <span class="n">day5</span><span class="p">[</span><span class="s1">&#39;NO2&#39;</span><span class="p">]</span>

<span class="n">X_train</span><span class="p">,</span> <span class="n">X_test</span><span class="p">,</span> <span class="n">y_train</span><span class="p">,</span> <span class="n">y_test</span> <span class="o">=</span> <span class="n">train_test_split</span><span class="p">(</span><span class="n">X</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">test_size</span><span class="o">=</span><span class="mf">0.2</span><span class="p">,</span> <span class="n">random_state</span><span class="o">=</span><span class="mi">42</span><span class="p">)</span>

<span class="n">scaler</span> <span class="o">=</span> <span class="n">StandardScaler</span><span class="p">()</span>
<span class="n">X_train_scaled</span> <span class="o">=</span> <span class="n">scaler</span><span class="o">.</span><span class="n">fit_transform</span><span class="p">(</span><span class="n">X_train</span><span class="p">)</span>
<span class="n">X_test_scaled</span> <span class="o">=</span> <span class="n">scaler</span><span class="o">.</span><span class="n">transform</span><span class="p">(</span><span class="n">X_test</span><span class="p">)</span>

<span class="n">knn</span> <span class="o">=</span> <span class="n">KNeighborsRegressor</span><span class="p">(</span><span class="n">n_neighbors</span><span class="o">=</span><span class="mi">5</span><span class="p">)</span>
<span class="n">knn</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">X_train_scaled</span><span class="p">,</span> <span class="n">y_train</span><span class="p">)</span>
<span class="n">day5_predict</span> <span class="o">=</span> <span class="n">knn</span><span class="o">.</span><span class="n">predict</span><span class="p">(</span><span class="n">X_test_scaled</span><span class="p">)</span>
<span class="n">r2_day5</span> <span class="o">=</span> <span class="n">r2_score</span><span class="p">(</span><span class="n">y_test</span><span class="p">,</span> <span class="n">day5_predict</span><span class="p">)</span>
<span class="n">mse_day5</span> <span class="o">=</span> <span class="n">mean_squared_error</span><span class="p">(</span><span class="n">y_test</span><span class="p">,</span> <span class="n">day5_predict</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;MSE:&quot;</span><span class="p">,</span> <span class="n">mse_day5</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;R2:&quot;</span><span class="p">,</span> <span class="n">r2_day5</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>MSE: 5.406320198744392e-09
R2: 0.026833612301711218
</pre></div>
</div>
</div>
</div>
</section>
</section>
<section id="perbandingan-performa-model-nilai-r2-tiap-lag-hari">
<h2><strong>Perbandingan Performa Model (Nilai R² Tiap Lag Hari)</strong><a class="headerlink" href="#perbandingan-performa-model-nilai-r2-tiap-lag-hari" title="Link to this heading">#</a></h2>
<ul class="simple">
<li><p>Variabel x berisi label jumlah hari sebelumnya (2, 3, 4, dan 5 hari).</p></li>
<li><p>Variabel y berisi nilai R² dari masing-masing model (hasil evaluasi).</p></li>
<li><p>Kemudian dibuat grafik batang (bar chart) untuk memvisualisasikan perbandingan nilai R² antar model.</p></li>
</ul>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">x</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;2 Hari&#39;</span><span class="p">,</span> <span class="s1">&#39;3 Hari&#39;</span><span class="p">,</span> <span class="s1">&#39;4 Hari&#39;</span><span class="p">,</span> <span class="s1">&#39;5 Hari&#39;</span><span class="p">]</span>
<span class="n">y</span> <span class="o">=</span> <span class="p">[</span><span class="n">r2_day2</span><span class="p">,</span> <span class="n">r2_day3</span><span class="p">,</span> <span class="n">r2_day4</span><span class="p">,</span> <span class="n">r2_day5</span><span class="p">]</span>

<span class="n">fig</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">8</span><span class="p">,</span> <span class="mi">7</span><span class="p">))</span>
<span class="n">bars</span> <span class="o">=</span> <span class="n">ax</span><span class="o">.</span><span class="n">bar</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">)</span>

<span class="n">ax</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="s2">&quot;Perbandingan Nilai R² berdasarkan Jumlah Hari Sebelumnya&quot;</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_xlabel</span><span class="p">(</span><span class="s2">&quot;Day&quot;</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_ylabel</span><span class="p">(</span><span class="s2">&quot;Nilai R²&quot;</span><span class="p">)</span>

<span class="n">ax</span><span class="o">.</span><span class="n">bar_label</span><span class="p">(</span><span class="n">bars</span><span class="p">,</span> <span class="n">fmt</span><span class="o">=</span><span class="s1">&#39;</span><span class="si">%.3f</span><span class="s1">&#39;</span><span class="p">,</span> <span class="n">padding</span><span class="o">=</span><span class="mi">3</span><span class="p">)</span>

<span class="n">plt</span><span class="o">.</span><span class="n">tight_layout</span><span class="p">()</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/31b008e0657edcf113b0bcca262fed72053ed0ec67c3b65b3998fc9dedfc02fc.png" src="_images/31b008e0657edcf113b0bcca262fed72053ed0ec67c3b65b3998fc9dedfc02fc.png" />
</div>
</div>
<section id="id1">
<h3><strong>Hasil Grafik</strong><a class="headerlink" href="#id1" title="Link to this heading">#</a></h3>
<ul class="simple">
<li><p>Sumbu X (horizontal) menunjukkan jumlah hari sebelumnya (lag) yang digunakan dalam model: 2 hari, 3 hari, 4 hari, dan 5 hari.</p></li>
<li><p>Sumbu Y (vertikal) menunjukkan nilai R² (koefisien determinasi), yaitu ukuran seberapa baik model menjelaskan variasi data aktual.</p></li>
<li><p>Semakin tinggi nilai R² (mendekati 1), semakin baik model dalam memprediksi nilai aktual.</p></li>
<li><p>Nilai R² yang negatif berarti model lebih buruk daripada baseline (rata-rata data), atau dengan kata lain, prediksi model tidak mencerminkan pola data sebenarnya.</p></li>
</ul>
</section>
</section>
<section id="evaluasi">
<h2><strong>Evaluasi</strong><a class="headerlink" href="#evaluasi" title="Link to this heading">#</a></h2>
<p>Berdasarkan hasil evaluasi:</p>
<ul class="simple">
<li><p>Semua nilai R² berada di sekitar 0 atau negatif, menandakan bahwa model KNN belum mampu menangkap hubungan kuat antara kadar NO₂ hari-hari sebelumnya dengan hari berikutnya.</p></li>
<li><p>Nilai MSE (Mean Squared Error) yang besar dan R² negatif menunjukkan bahwa fluktuasi kadar NO₂ bersifat acak atau dipengaruhi faktor eksternal (seperti cuaca, arah angin, atau aktivitas industri) yang tidak tercermin dalam data historis harian.</p></li>
<li><p>Menambah jumlah lag hari (dari 2 hingga 5) tidak memperbaiki performa model, bahkan memperburuk karena menambah variabel yang tidak relevan untuk dataset kecil.</p></li>
</ul>
</section>
</section>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            name: "python3",
            path: "./."
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

                </article>
              

              
              
              
              
                <footer class="prev-next-footer d-print-none">
                  
<div class="prev-next-area">
    <a class="left-prev"
       href="UTS_PPW.html"
       title="previous page">
      <i class="fa-solid fa-angle-left"></i>
      <div class="prev-next-info">
        <p class="prev-next-subtitle">previous</p>
        <p class="prev-next-title"><strong>UTS Pencarian Penambangan Web</strong></p>
      </div>
    </a>
</div>
                </footer>
              
            </div>
            
            
              
                <div class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">


  <div class="sidebar-secondary-item">
  <div class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> Contents
  </div>
  <nav class="bd-toc-nav page-toc">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#mengapa-forecasting-penting"><strong>Mengapa Forecasting penting?</strong></a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#businness-understanding"><strong>Businness Understanding</strong></a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#instalasi-library"><strong>Instalasi Library</strong></a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#data-understanfing"><strong>Data Understanfing</strong></a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#pengumpulan-data"><strong>Pengumpulan Data</strong></a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#koneksi-platform-cdse"><strong>Koneksi Platform CDSE</strong></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#pengambilan-data-dari-koordinat-gresik"><strong>Pengambilan Data dari Koordinat Gresik</strong></a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#eksplorasi-data"><strong>Eksplorasi Data</strong></a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#cek-missing-value"><strong>Cek Missing Value</strong></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#statistik-data"><strong>Statistik Data</strong></a></li>
</ul>
</li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#prepocessing-data"><strong>Prepocessing Data</strong></a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#penanganan-missing-value"><strong>Penanganan Missing Value</strong></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#hasil-grafik">Hasil Grafik</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#pengubahan-data-menjadi-supervised-learning"><strong>Pengubahan Data Menjadi Supervised Learning</strong></a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#modelling"><strong>Modelling</strong></a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#tujuan-modelling-lag-n-day"><strong>Tujuan Modelling Lag n Day</strong></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#modeling-forecasting-dengan-lag-2-hari"><strong>Modeling Forecasting dengan Lag 2 Hari</strong></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#modeling-forecasting-dengan-lag-3-hari"><strong>Modeling Forecasting dengan Lag 3 Hari</strong></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#modeling-forecasting-dengan-lag-4-hari"><strong>Modeling Forecasting dengan Lag 4 Hari</strong></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#modeling-forecasting-dengan-lag-5-hari"><strong>Modeling Forecasting dengan Lag 5 Hari</strong></a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#perbandingan-performa-model-nilai-r2-tiap-lag-hari"><strong>Perbandingan Performa Model (Nilai R² Tiap Lag Hari)</strong></a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id1"><strong>Hasil Grafik</strong></a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#evaluasi"><strong>Evaluasi</strong></a></li>
</ul>
  </nav></div>

</div></div>
              
            
          </div>
          <footer class="bd-footer-content">
            
<div class="bd-footer-content__inner container">
  
  <div class="footer-item">
    
<p class="component-author">
By Yudha Caesar Maulana
</p>

  </div>
  
  <div class="footer-item">
    

  <p class="copyright">
    
      © Copyright 2023.
      <br/>
    
  </p>

  </div>
  
  <div class="footer-item">
    
  </div>
  
  <div class="footer-item">
    
  </div>
  
</div>
          </footer>
        

      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="_static/scripts/bootstrap.js?digest=dfe6caa3a7d634c4db9b"></script>
<script src="_static/scripts/pydata-sphinx-theme.js?digest=dfe6caa3a7d634c4db9b"></script>

  <footer class="bd-footer">
  </footer>
  </body>
</html>